webpackJsonp([32],{741:function(e,t){},742:function(e,t){},782:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(358),a=s.n(r),i=s(356),o=s.n(i),n=s(362),h=s.n(n),c=s(160),l=s.n(c),d=s(163),u=s.n(d),g=s(68),p=s.n(g),m=s(67),f=s(361),v=s(1),y=s.n(v),I=s(359),k=s(357),C=s(82),P={name:"transferStyle",components:{originator_dailog:f.a},computed:p()({bodyHeight:function(){return document.documentElement.clientHeight}},Object(C.b)(["bodyHeight"])),created:function(e){this.debouncedSearchUser=Object(k.debounce)(this.getUsers,0,e),this.debouncedauthorizedUser=Object(k.debounce)(this.getUsers,0,e)},mounted:function(){var e=this,t=this;u.a.all([t.getOftenProcess(),t.getOrganizeList()]).then(function(s){if(s[1].state){var r=e.$refs.orgtree.getNode(s[1].orgID);t.organize.orgID=s[1].orgID,r&&(e.$refs.orgtree.setCurrentKey(s[1].orgID),e.setOrganize(r),e.getChildenList(s[1].orgID,s[1].orgName))}e.params?e.initEditForm():e.initAddForm()}).catch(function(e){t.$message.error(e)})},data:function(){return{searchValParam:{},commonProcessIDs:[],checkedNodeProcessIDs:[],categoryID:[],headHeight:"",params:this.$route.query.params,pageIndex:1,pageSize:12,processList:[],userForm:{authorUser:[],authorizedUser:[],recType:3,operator:m.a.getLocalStorage("username"),operationDate:y()(new Date).format("YYYY-MM-DD"),lotNumber:"",description:""},recTypeList:[{value:1,label:"授权处理"},{value:2,label:"授权查看"}],form:{},fromAuthorizingPerson:[],toAuthorizingPerson:[],loadingPerson:!1,authType:"",queryName:"",orgStates:[],orgPeopleStates:[],chekedIDs:[],checkedKeys:[],processIDs:[],checkAll:!1,processCheckAll:!1,processTreeData:[],showList:!0,isIndeterminate:!1,indeterminateProcess:!1,loading:!1,oneCheck:!0,hasData:!0,childDataUrl:{url:"",selectedPerson:[]},showDialog:!1,comp:{},fromUserList:[],selectedFromUser:{secretaryID:"",managerIDList:""},processArrays:[],thirdData:[],props:{id:"id",label:"name",children:"Child"},checked:!1,fullHeight:document.documentElement.clientHeight,arrt:"收起",icon:"el-icon-arrow-up",isShow:!0,isWorkProcess:[],processData:[],propsOrg:{label:"orgName",value:"orgID",children:"m_ChildOrg"},organizeName:"",activeOrganizeName:[],organizeList:[],organize:{orgID:""},processCategoryIDs:[],originatorPageIndex:0,originatorPageSize:10,originatorTotal:0,originatorLoading:!1,isLoad:!0}},methods:{burialPointEvent:function(e){m.a.burialPoint(e)},loadMore:function(e){this.originatorPageIndex++,this.getUsers(e,!0)},initAddForm:function(){var e=m.a.getLocalStorage("loginname"),t=m.a.getLocalStorage("username")||m.a.getLocalStorage("loginname"),s={userId:e,value:t,vankeId:"vanke\\"+e};this.userForm.authorUser[0]=t,this.fromAuthorizingPerson[0]=s,this.userForm.operator=t},initEditForm:function(){var e=this,t=this;t.params.lotNumber&&t.$axios.post("/api/getUserAuthorityToEdit",{lotNumber:this.params.lotNumber}).then(function(s){if(s.data.userAuthorityList.length>0){var r=[],a=!0,i=!1,o=void 0;try{for(var n,h=l()(e.processList);!(a=(n=h.next()).done);a=!0){var c=n.value;r.push(Number(c.processid))}}catch(e){i=!0,o=e}finally{try{!a&&h.return&&h.return()}finally{if(i)throw o}}var d=!0,u=!1,g=void 0;try{for(var p,m=l()(s.data.userAuthorityList[0].processIDs);!(d=(p=m.next()).done);d=!0){var f=p.value;-1===r.indexOf(f)&&e.processArrays.push({id:f})}}catch(e){u=!0,g=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw g}}t.setEditFrom(s.data.userAuthorityList[0])}})},setEditFrom:function(e){this.userForm={authorUser:[e.fromUserName],authorizedUser:[e.toUserName],recType:e.recType,operator:m.a.getLocalStorage("username"),operationDate:y()(new Date).format("YYYY-MM-DD"),lotNumber:e.lotNumber,description:e.description};var t=e.fromUserID.replace("VANKE\\",""),s=e.fromUserName,r=e.fromUserID;this.userForm.authorUser[0]=s,this.fromAuthorizingPerson[0]={userId:t,value:s,vankeId:r};var a=e.toUserID.replace("VANKE\\",""),i=e.toUserName,o=e.toUserID;this.userForm.authorizedUser[0]=e.toUserName,this.toAuthorizingPerson[0]={userId:a,value:i,vankeId:o},this.processIDs=e.processIDs,this.setChekedOften()},setChekedOften:function(){if(this.params&&this.processIDs){var e=!0,t=!1,s=void 0;try{for(var r,a=l()(this.processList);!(e=(r=a.next()).done);e=!0){var i=r.value;this.processIDs.indexOf(Number(i.processid))>-1&&this.chekedIDs.push(i)}}catch(e){t=!0,s=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw s}}}this.chekedIDs.length===this.processList.length&&this.chekedIDs.length>0?this.checkAll=!0:this.chekedIDs.length<this.processList.length&&this.chekedIDs.length>0&&(this.isIndeterminate=!0)},selectTreeClick:function(e,t){this.$refs.selectTree.visible=!1,this.organize=e,this.setOrganize(t),this.getChildenList(e.orgID,e.orgName);for(var s=[],r=0;r<this.processCategoryIDs.length;r++)this.checkedKeys.push(this.processCategoryIDs[r].id),this.checkedKeys.indexOf(this.processCategoryIDs[r].id)>-1&&s.push(this.processCategoryIDs[r].id);this.checkedKeys=s},setOrganize:function(e){this.activeOrganizeName=[],this.getPrarentNode(e),this.organizeName=this.activeOrganizeName.reverse().join("/")},getPrarentNode:function(e){void 0!=e.data.orgName&&this.activeOrganizeName.push(e.data.orgName),void 0!=e.parent&&this.getPrarentNode(e.parent)},getOrganizeList:function(){var e=this;return new u.a(function(t,s){e.$axios.post("/api/companytree/page",{}).then(function(s){if(s.data.companyTreeList.length>0){e.organizeList=s.data.companyTreeList;var r=e.organizeList[0].orgID,a=e.organizeList[0].orgName;t({state:!0,orgID:r,orgName:a})}else t({state:!1,orgID:orgID,orgName:orgName})}).catch(function(e){s("获取组织数据失败!ERROR MESSAGE:"+e)})})},handleCheckChanges:function(e,t,s){if(!t){for(var r=0;r<this.processCategoryIDs.length;r++)e.id===this.processCategoryIDs[r].id&&(this.processCategoryIDs.splice(r,1),r--);for(var a=0;a<this.processArrays.length;a++)e.id===this.processArrays[a].id&&(this.processArrays.splice(a,1),a--)}this.getCheckedKeys(e,t)},getOftenProcess:function(){var e=this,t=this;return new u.a(function(s,r){var a="/api/oftenApproved?pageIndex="+(t.pageIndex-1)+"&pageSize="+t.pageSize;t.$axios.post(a,{}).then(function(r){t.processList=r.data.result,r.data.result.length<=12&&(e.hasData=!1),t.setChekedOften(),setTimeout(function(){e.headHeight=e.$refs.rightHeader.$el.clientHeight},1e3),s(!0)}).catch(function(e){r("查询列表数据失败!ERROR MESSAGE:"+e)})})},getMore:function(){this.pageIndex=this.pageIndex+1,this.getOftenProcess()},handleCheckAllChange:function(e){m.a.burialPoint("移交设置-添加页面-经常审批流程[全选]"),this.chekedIDs=e?this.processList:[],this.isIndeterminate=!1},handleCheckedProcessChange:function(e){m.a.burialPoint("移动设置-添加页面-经常审批流程[单选]");var t=e.length;this.checkAll=t===this.processList.length,this.isIndeterminate=t>0&&t<this.processList.length},showToggle:function(){this.showList=!this.showList,this.isShow=!this.isShow,this.isShow?(this.arrt="收起",this.icon="el-icon-arrow-up"):(this.arrt="展开",this.icon="el-icon-arrow-down")},openDailog:function(e,t){"originator_dailog"==e&&(this.authType=t,this.oneCheck=!0,this.childDataUrl.getTree="getTree",this.childDataUrl.companytree="companytree/page","auth"==t?(m.a.burialPoint("移交设置-添加页面-移交人输入"),this.childDataUrl.selectedPerson=this.fromAuthorizingPerson):"beAuth"==t&&(m.a.burialPoint("移交设置-添加页面-被移交人输入"),this.childDataUrl.selectedPerson=this.toAuthorizingPerson)),this.comp.component=e,this.showDialog=!0,m.a.showDailog_mask()},hideComponent:function(){this.showDialog=!1,m.a.hiddenDailog_mask()},showMsgfromchild:function(e){if("auth"==this.authType)if(e.peoArr&&e.peoArr.length>0){var t=e.peoArr[0];this.userForm.authorUser=[t.name],this.fromAuthorizingPerson=[{userId:t.userId,value:t.name,vankeId:t.vankeId}]}else this.userForm.authorUser=[],this.fromAuthorizingPerson=[];else if("beAuth"==this.authType)if(e.peoArr&&e.peoArr.length>0){var s=e.peoArr[0];this.userForm.authorizedUser=[s.name],this.toAuthorizingPerson=[{userId:s.userId,value:s.name,vankeId:s.vankeId}]}else this.userForm.authorizedUser=[],this.toAuthorizingPerson=[];this.hideComponent()},getUsers:function(e,t){var s=this,r=this;r.loadingPerson=!0,r.originatorLoading=!0,t&&(r.loadingPerson=!1),r.$axios.post("/api/getUser?pageIndex="+this.originatorPageIndex+"&pageSize="+this.originatorPageSize,{name:e.userName,deptId:"",isWork:"1"}).then(function(t){if(r.orgPeopleStates=[],r.orgStates=[],s.originatorTotal=t.data.pageControllerInfo.totalRecordCount,"authorUser"==e.type)for(var a=0;a<t.data.result.length;a++)r.orgPeopleStates.push({value:t.data.result[a].displayName,userId:t.data.result[a].adAccount,companyName:t.data.result[a].companyName,orgFullPath:t.data.result[a].orgNameFullPath,vankeId:t.data.result[a].vankeId});else for(var i=0;i<t.data.result.length;i++)r.orgStates.push({value:t.data.result[i].displayName,userId:t.data.result[i].adAccount,companyName:t.data.result[i].companyName,orgFullPath:t.data.result[i].orgNameFullPath,vankeId:t.data.result[i].vankeId});r.loadingPerson=!1,r.originatorLoading=!1}).catch(function(e){r.loadingPerson=!1,r.originatorLoading=!1,r.$message.error("查询列表数据失败!ERROR MESSAGE:"+e)})},querySearchUser:function(e){this.orgStates=[],this.searchValParam.userName=e,this.searchValParam.type="authorizedUser",this.debouncedauthorizedUser({userName:e,type:"authorizedUser"})},querySearchUserPeo:function(e){this.orgPeopleStates=[],this.searchValParam.userName=e,this.searchValParam.type="authorUser",this.debouncedSearchUser({userName:e,type:"authorUser"})},removeUser:function(e){if(e.userId){for(var t=0;t<this.toAuthorizingPerson.length&&e.userId!=this.toAuthorizingPerson[t].userId;t++);this.toAuthorizingPerson.splice(t,1)}else{for(t=0;t<this.toAuthorizingPerson.length&&e!=this.toAuthorizingPerson[t].value;t++);this.toAuthorizingPerson.splice(t,1)}},personChange:function(e){this.$set(this.$refs.userId,"query",""),this.toAuthorizingPerson=e?[e]:[]},personChangePeo:function(e){this.$set(this.$refs.userId,"query",""),this.fromAuthorizingPerson=e?[e]:[]},visibleChange:function(e){this.orgStates=[]},visibleChangePeo:function(e){this.orgPeopleStates=[]},setFormData:function(){var e=[],t=[],s=[],r="",a=[],i=!0,o=!1,n=void 0;try{for(var h,c=l()(this.processArrays);!(i=(h=c.next()).done);i=!0){var d=h.value;e.push(d.id),t.push(d.name)}}catch(e){o=!0,n=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw n}}var u=!0,g=!1,p=void 0;try{for(var f,v=l()(this.processCategoryIDs);!(u=(f=v.next()).done);u=!0){var I=f.value;s.push(I.id)}}catch(e){g=!0,p=e}finally{try{!u&&v.return&&v.return()}finally{if(g)throw p}}if(this.processCheckAll){r="0";for(var k=0;k<this.processArrays.length;k++)"string"==typeof this.processArrays[k].id&&a.push(this.processArrays[k].id);t=[],e=[],s=[]}return{fromUserID:"VANKE\\"+this.fromAuthorizingPerson[0].userId,fromUserName:this.fromAuthorizingPerson[0].value,toUserIDs:"VANKE\\"+this.toAuthorizingPerson[0].userId,toUserNames:this.toAuthorizingPerson[0].value,processNames:t,processIDs:e,recType:this.userForm.recType,lotNumber:"",status:"0",userId:m.a.getLocalStorage("loginname"),operator:this.userForm.operator,operationDate:this.userForm.operationDate,currentTime:y()(new Date).format("YYYY-MM-DD HH:mm:ss"),description:this.userForm.description,checkedAll:r,orgId:a.join(","),processCategoryIDs:s.join(",")}},btnSave:function(){if(m.a.burialPoint("移交设置-添加页面-保存"),this.getOftenIds(),this.processArrays=this.unique(this.processArrays,"id"),this.processCategoryIDs=this.unique(this.processCategoryIDs,"id"),this.fromAuthorizingPerson&&0!=this.fromAuthorizingPerson.length)if(this.toAuthorizingPerson&&0!=this.toAuthorizingPerson.length)if(0!==this.processArrays.length||0!==this.processCategoryIDs.length){var e=this.setFormData();this.params?(e.lotNumber=this.params.lotNumber,this.editAuthor(e)):this.addAuthor(e)}else this.$message.warning("请选择移交流程！");else this.$message.warning("请选择被移交人！");else this.$message.warning("请选择移交人！")},getOftenIds:function(){if(this.commonProcessIDs=[],this.chekedIDs.length>0){var e=!0,t=!1,s=void 0;try{for(var r,a=l()(this.chekedIDs);!(e=(r=a.next()).done);e=!0){var i=r.value;this.commonProcessIDs.push({id:Number(i.processid),name:i.processName})}}catch(e){t=!0,s=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw s}}}this.processArrays=this.processArrays.concat(this.commonProcessIDs)},btnCancle:function(){this.$router.push({path:"/transferSetting"})},removeProcessIDs:function(e,t){if(t&&e.Child&&null===e.processId){var s=[],r=!0,a=!1,i=void 0;try{for(var o,n=l()(e.Child);!(r=(o=n.next()).done);r=!0){var h=o.value;s.push(h.id)}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}for(var c=0;c<this.processArrays.length;c++)s.indexOf(this.processArrays[c].id)>-1&&(this.processArrays.splice(c,1),c--)}},addAuthor:function(e){var t=this;this.$axios.post("/api/UserAuthority",e).then(function(e){0!=e.data.result?e.data.messageList.length>0?t.$message.warning(e.data.messageList[0].message):(t.$message({type:"success",message:"保存成功!"}),t.$router.push({path:"/transferSetting"})):t.$message.warning(e.data.messageList[0].message)}).catch(function(e){t.$message.error("查询列表数据失败!ERROR MESSAGE:"+e)}),this.processArrays=new Array},editAuthor:function(e){var t=this;this.$axios.post("/api/getUserAuthorityToUpdate",e).then(function(e){if(e.data.result)""!=e.data.resultMessage?t.$message.warning(e.data.resultMessage):(t.$message({type:"success",message:"保存成功!"}),t.$router.push({path:"/transferSetting"}));else{var s=e.data.messageList[0].message;t.$message.warning(s)}}).catch(function(e){t.$message.error("查询列表数据失败!ERROR MESSAGE:"+e)}),this.processArrays=new Array},getChildenList:function(e,t){var s=this;this.categoryID=[e],this.isWorkProcess=[],this.processCheckAll=h()(this.unique(this.processArrays,"id")).indexOf(e)>-1,I.a.startLoading();var r={orgId:e,isUse:"1",name:"",isHide:"1",isCategory:"",isDailog:"0"};this.$axios.post("/api/processCategory",r).then(function(r){if(200===r.status){var a=s.toTree(r.data.result),i=[];i.push({id:e,Child:a,name:t,disabled:!1,isUpgrade:"0"}),s.thirdData=i,null==s.thirdData.length&&s.$message.success("数据为空")}else s.$message.error("请求失败！");I.a.endLoading()}).catch(function(e){s.$message.error("child连接服务器失败！"+e),I.a.endLoading()})},handleNodeExpand:function(e,t){"0"!==e.isUpgrade&&null===e.processId&&(e.Child&&0!=e.Child.length||(this.isLoad=!0),e.isProcess||(this.firstLoad(e,t),this.isLoad=!1))},handleNodeClick:function(e,t){"0"!==e.isUpgrade&&null===e.processId&&(e.Child&&0!=e.Child.length||(this.isLoad=!0),this.isLoad&&!e.isProcess&&this.firstLoad(e,t))},firstLoad:function(e,t){for(var s=0;s<this.processArrays.length;s++)this.checkedKeys.push(this.processArrays[s].id);for(var r=0;r<this.checkedKeys.length;r++)t.checked||(this.checkedKeys.splice(r,1),r--);this.checkedKeys=o()(new a.a(this.checkedKeys)),e.isProcess||(this.categoryID=[],this.categoryID.push(e.id),this.getProcessTree(e,t))},getProcessTree:function(e,t){var s=this;I.a.startLoading(),this.isWorkProcess=[];var r={id:e.id,orgId:this.organize.orgID,isUse:"1",name:"",isHide:"1",isCategory:"0",isDailog:"0"};this.$axios.post("/api/processCategoryTree",r).then(function(r){if(200===r.status){e.isProcess=!0;var a=r.data.result;s.processData=a;var i=!0,o=!1,n=void 0;try{for(var h,c=l()(a);!(i=(h=c.next()).done);i=!0){var d=h.value;d&&d.hasOwnProperty("processId")&&null!==d.processId&&"0"!==d.processId&&"0"!==d.isUpgrade&&s.processTreeData.push(d)}}catch(e){o=!0,n=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw n}}a=s.deleteNode(a);var u=!0,g=!1,p=void 0;try{for(var m,f=l()(a);!(u=(m=f.next()).done);u=!0){var v=m.value;v&&v.hasOwnProperty("processId")&&null!==v.processId&&"0"!==v.processId&&(s.isWorkProcess.push(v),s.$refs.tree.append(v,t))}}catch(e){g=!0,p=e}finally{try{!u&&f.return&&f.return()}finally{if(g)throw p}}if(s.params)s.checkedIDs();else{for(var y=[],k=0;k<s.processArrays.length;k++)s.checkedKeys.push(s.processArrays[k].id),s.checkedKeys.indexOf(s.processArrays[k].id)>-1&&y.push(s.processArrays[k].id);s.checkedKeys=y}if(t.checked){var C=[],P=!0,D=!1,A=void 0;try{for(var b,x=l()(e.Child);!(P=(b=x.next()).done);P=!0){var z=b.value;C.push(z.id)}}catch(e){D=!0,A=e}finally{try{!P&&x.return&&x.return()}finally{if(D)throw A}}setTimeout(function(){s.checkedKeys=C},10)}}else s.$message.error("请求失败！");I.a.endLoading()}).catch(function(e){s.$message.error("child连接服务器失败！"+e),I.a.endLoading()})},checkedIDs:function(){var e=[];for(var t in this.processIDs)e.push(this.processIDs[t]+"");for(var s=this.getProcessId(this.processList,"processid"),r=e.length,a=0;a<r;a++)s.indexOf(e[a])>=0&&(e.splice(a,1),a--);this.checkedKeys=e},getProcessId:function(e,t){var s=[],r=!0,a=!1,i=void 0;try{for(var o,n=l()(e);!(r=(o=n.next()).done);r=!0){var h=o.value;h[t]&&s.push(h[t]+"")}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}return s},setCheckedAllNodes:function(){m.a.burialPoint("移交设置-添加页面-全部流程[全选]"),this.processData=[],this.processCheckAll?this.$refs.tree.setCheckedKeys([this.organize.orgID]):this.$refs.tree.setCheckedKeys([])},toTree:function(e){if(null==e||0==e.length)return[];e.forEach(function(e){delete e.Child});var t={};e.forEach(function(e){t[e.id]=e});var s=[];return e.forEach(function(e){var r=t[e.pid];r?(r.Child||(r.Child=[])).push(e):s.push(e)}),s},deleteNode:function(e){for(var t in e)"0"==e[t].isUpgrade&&delete e[t];return e},getCheckedKeys:function(e,t){for(var s=this,r=this.$refs.tree.getCheckedNodes(),a=0;a<r.length;a++)r.length>0&&null===r[a].processId&&this.processCategoryIDs.push({id:r[a].id,name:r[a].name});for(var i=0;i<r.length;i++)r.length>0&&null!==r[i].processId&&this.processArrays.push({id:r[i].id,name:r[i].name});this.processArrays=this.processArrays.concat(this.commonProcessIDs);var o=this.$refs.tree.getCheckedKeys();o[0]===this.organize.orgID?(this.processCheckAll=!0,this.indeterminateProcess=!1):0===o.length?(this.processCheckAll=!1,this.indeterminateProcess=!1):(this.processCheckAll=!1,this.indeterminateProcess=!0),setTimeout(function(){s.removeProcessIDs(e,t)},100)},unique:function(e,t){for(var s=[],r=0;r<e.length;r++){0==r&&s.push(e[r]);var a=!1;if(s.length>0&&r>0){for(var i=0;i<s.length;i++)s[i][t]==e[r][t]&&(a=!0);a||s.push(e[r])}}return s}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"authorized todoProcess",style:{height:e.bodyHeight+"px"}},[s("el-container",{staticClass:"authorized-container"},[s("el-header",[s("div",{staticClass:"top-header"},[s("span",{staticClass:"top-breadCrumb"},[s("router-link",{staticClass:"authorized-breadCrumb",staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:{path:"/transferSetting"}}},[e._v("\n              移交设置\n            ")])],1),e._v(" "),s("el-row",{staticClass:"searchCom searchAndReset",attrs:{type:"flex",justify:"end"}},[s("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.btnSave}},[e._v("保存")]),e._v(" "),s("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.btnCancle}},[e._v("取消")])],1)],1)]),e._v(" "),s("el-container",{staticStyle:{background:"#ffffff"}},[s("el-aside",{staticClass:"authorized-mainLeft authorized-mainLeft-padding"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[s("el-row",{staticStyle:{"font-size":"14px",margin:"10px 0"}},[s("el-col",{attrs:{span:4}},[s("span",[e._v("移交新增")])])],1),e._v(" "),s("el-row",{attrs:{type:"flex",justify:"start"}},[s("el-col",{attrs:{span:18}},[s("el-form-item",{staticClass:"mainLeft-operatorer",staticStyle:{"font-size":"16px"},attrs:{label:""}})],1)],1),e._v(" "),s("el-row",{attrs:{type:"flex",justify:"start"}},[s("el-col",{attrs:{span:18}},[s("el-form-item",{staticClass:"authorized-space",attrs:{label:"移交人"}},[s("i",{staticClass:"iconfont icon-member",staticStyle:{position:"absolute","z-index":"10",right:"10px"},on:{click:function(t){e.openDailog("originator_dailog","auth")}}}),e._v(" "),s("el-select",{ref:"userIdPeo",attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"","popper-class":"orgstates","remote-method":e.querySearchUserPeo,"value-key":"userId",loading:e.loadingPerson},on:{change:e.personChangePeo,"visible-change":e.visibleChangePeo},nativeOn:{click:function(t){e.burialPointEvent("移交设置-添加页面-移交人输入")}},model:{value:e.userForm.authorUser[0],callback:function(t){e.$set(e.userForm.authorUser,0,t)},expression:"userForm.authorUser[0]"}},[e._l(e.orgPeopleStates,function(t,r){return s("el-option",{key:r,attrs:{label:t.value,value:t}},[s("div",{staticClass:"userheight"},[e._v(e._s(t.value)+"("+e._s(t.userId)+")")]),e._v(" "),t.companyName?s("div",{staticClass:"fullpathsize"},[e._v(e._s(t.companyName)+" "+e._s(t.orgFullPath))]):s("div",{staticClass:"fullpathsize"},[e._v(e._s(t.orgFullPath))])])}),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.orgPeopleStates.length>=10&&e.orgPeopleStates.length<e.originatorTotal,expression:"orgPeopleStates.length >= 10 && orgPeopleStates.length < originatorTotal"}],staticClass:"load-more",attrs:{loading:e.originatorLoading},on:{click:function(t){e.loadMore(e.searchValParam)}}},[e._v("\n                    点击加载更多\n                    "),s("i",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"#119cff"}})])],2)],1)],1)],1),e._v(" "),s("el-row",{attrs:{type:"flex"}},[s("el-col",{attrs:{span:18}},[s("el-form-item",{staticClass:"authorized-space",attrs:{label:"被移交人"}},[s("i",{staticClass:"iconfont icon-member",staticStyle:{position:"absolute","z-index":"10",right:"10px"},on:{click:function(t){e.openDailog("originator_dailog","beAuth")}}}),e._v(" "),s("el-select",{ref:"userId",attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"","popper-class":"orgstates",placeholder:"","remote-method":e.querySearchUser,"value-key":"userId",loading:e.loadingPerson},on:{change:e.personChange,"visible-change":e.visibleChange},nativeOn:{click:function(t){e.burialPointEvent("移交设置-添加页面-被移交人输入")}},model:{value:e.userForm.authorizedUser[0],callback:function(t){e.$set(e.userForm.authorizedUser,0,t)},expression:"userForm.authorizedUser[0]"}},[e._l(e.orgStates,function(t,r){return s("el-option",{key:r,attrs:{label:t.value,value:t}},[s("div",{staticClass:"userheight"},[e._v(e._s(t.value)+"("+e._s(t.userId)+")")]),e._v(" "),t.companyName?s("div",{staticClass:"fullpathsize"},[e._v(e._s(t.companyName)+" "+e._s(t.orgFullPath))]):s("div",{staticClass:"fullpathsize"},[e._v(e._s(t.orgFullPath))])])}),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.orgStates.length>=10&&e.orgStates.length<e.originatorTotal,expression:"orgStates.length >= 10 && orgStates.length < originatorTotal"}],staticClass:"load-more",attrs:{loading:e.originatorLoading},on:{click:function(t){e.loadMore(e.searchValParam)}}},[e._v("\n                    点击加载更多\n                    "),s("i",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"#119cff"}})])],2)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:18}},[s("el-form-item",{staticClass:"authorized-space",attrs:{label:"流程描述"}},[s("el-input",{staticStyle:{height:"auto"},attrs:{type:"textarea"},nativeOn:{click:function(t){e.burialPointEvent("移交设置-添加页面-流程描述")}},model:{value:e.userForm.description,callback:function(t){e.$set(e.userForm,"description",t)},expression:"userForm.description"}})],1)],1)],1),e._v(" "),s("el-row",{attrs:{type:"flex",justify:"start"}},[s("el-col",{attrs:{span:18}},[s("el-form-item",{staticClass:"mainLeft-operatorer",attrs:{label:"操作人"}},[s("span",[e._v(e._s(e.userForm.operator))])])],1)],1),e._v(" "),s("el-row",{attrs:{type:"flex",justify:"start"}},[s("el-col",{attrs:{span:18}},[s("el-form-item",{staticClass:"mainLeft-operatordate",attrs:{label:"操作日期"}},[s("span",[e._v(e._s(e.userForm.operationDate))])])],1)],1)],1)],1),e._v(" "),s("el-container",{staticClass:"authorized-mainRight"},[s("el-header",{ref:"rightHeader",staticClass:"processHeader",staticStyle:{height:"auto !important","border-bottom":"0"}},[s("div",{staticClass:"hotProcess"},[s("div",{staticClass:"hotProcess-title"},[s("el-row",{staticStyle:{padding:"10px 30px 10px 0"}},[s("el-col",{attrs:{span:9}},[s("span",{staticClass:"img-title"},[e._v("经常审批的流程")])]),e._v(" "),s("el-col",{staticStyle:{"margin-top":"-11px",float:"right"},attrs:{span:14}},[s("div",{staticStyle:{cursor:"pointer",float:"right"},on:{click:e.showToggle}},[s("span",{staticStyle:{"font-size":"14px"},domProps:{textContent:e._s(e.arrt)}}),e._v(" "),s("i",{class:e.icon,staticStyle:{color:"#1fa0fb","font-weight":"bolder","font-size":"18px"}})]),e._v(" "),s("span",{staticStyle:{"margin-right":"15px",float:"right"}},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")])],1)])],1)],1),e._v(" "),s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],staticClass:"hotProcess-container"},[s("div",{ref:"ele"},[s("el-checkbox-group",{attrs:{size:"small"},on:{change:e.handleCheckedProcessChange},model:{value:e.chekedIDs,callback:function(t){e.chekedIDs=t},expression:"chekedIDs"}},e._l(e.processList,function(t,r){return s("el-checkbox",{key:r,attrs:{title:t.processName,label:t}},[e._v(e._s(t.processName)+"\n                    ")])})),e._v(" "),!e.loading&&e.hasData?s("div",{on:{click:e.getMore}},[s("el-button",{attrs:{type:"text"}},[e._v("点击加载更多")])],1):e._e(),e._v(" "),e.hasData?e._e():s("div",{staticStyle:{"text-align":"center",margin:"15px 0"}},[s("span",[e._v("无更多数据")])])],1),e._v(" "),e.loading?s("div",{staticClass:"loading-box"},[s("i",{staticClass:"el-icon-loading"})]):e._e()])])])]),e._v(" "),s("el-main",{staticClass:"loadingtext",staticStyle:{height:"100%",padding:"0",margin:"0"}},[s("div",{staticClass:"compProcess"},[s("div",{staticStyle:{height:"100%"}},[s("div",{staticClass:"compProcess-select"},[s("span",[e._v("全部流程")]),e._v(" "),s("el-select",{ref:"selectTree",staticStyle:{width:"300px","margin-left":"15px"},attrs:{placeholder:"请选择"},nativeOn:{click:function(t){e.burialPointEvent("移交测试-添加页面-组织选择")}},model:{value:e.organizeName,callback:function(t){e.organizeName=t},expression:"organizeName"}},[s("el-option",{staticClass:"organize-list-box",staticStyle:{height:"auto",padding:"0 !important"},attrs:{value:"",disabled:!0}},[s("div",{staticStyle:{height:"100%",width:"100%"}},[s("el-tree",{ref:"orgtree",attrs:{data:e.organizeList,"highlight-current":!0,"node-key":"orgID","default-expand-all":"","expand-on-click-node":!1,"empty-text":"暂无数据",props:e.propsOrg},on:{"node-click":e.selectTreeClick}})],1)])],1),e._v(" "),s("span",{staticStyle:{"margin-right":"30px",float:"right"}},[s("el-checkbox",{attrs:{indeterminate:e.indeterminateProcess},on:{change:e.setCheckedAllNodes},model:{value:e.processCheckAll,callback:function(t){e.processCheckAll=t},expression:"processCheckAll"}},[e._v("全选")])],1)],1),e._v(" "),s("div",{staticClass:"mainRight-tree",style:e.showList?{height:e.bodyHeight-e.headHeight-150+"px"}:{height:e.bodyHeight-200+"px"}},[s("el-tree",{ref:"tree",attrs:{"highlight-current":!0,data:e.thirdData,"node-key":"id","default-checked-keys":e.checkedKeys,"default-expanded-keys":e.categoryID,"show-checkbox":"",props:e.props},on:{"check-change":e.handleCheckChanges,"node-expand":e.handleNodeExpand,"node-click":e.handleNodeClick,check:function(t){e.burialPointEvent("移交设置-添加页面-全部流程[单选]")}}})],1)])])])],1)],1)],1),e._v(" "),e.showDialog?s(e.comp.component,{tag:"component",attrs:{childDataUrl:e.childDataUrl,queryName:e.queryName,oneCheck:e.oneCheck},on:{hideComponent:e.hideComponent,sureSubmit:e.showMsgfromchild}}):e._e()],1)},staticRenderFns:[]};var A=s(47)(P,D,!1,function(e){s(741),s(742)},"data-v-465a9eda",null);t.default=A.exports}});