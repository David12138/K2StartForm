{"version":3,"sources":["webpack:///src/report_form/approvalTime.vue","webpack:///./src/report_form/approvalTime.vue?1757","webpack:///./src/report_form/approvalTime.vue"],"names":["approvalTime","name","components","CascaderOrganize","cascaderOrganize","processClassification","processSelection","page","computed","extends_default","bodyHeight","document","documentElement","clientHeight","Object","vuex_esm","data","_this","this","pickerOptionsBefore","disabledDate","time","beginDateVal","processform","date","moment_default","format","pickerOptionsAfter","tableData","processFormName","processCategoryName","processCategoryIDs","processName","processIDs","loading","defaultFirst","organize","department","projects","approveTime","subtract","processCategoryList","processList","model","companyID","startDateFrom","startDateTo","departmentID","projectID","processID","orderBy","showdialog","componentParam","componentType","type","String","required","backfillData","Array","oneCheck","Boolean","closeShow","pageIndex","total","pageSize","pageSizesList","mounted","methods","formatMinutes","minutes","day","parseInt","Math","floor","hour","minute","sortChange","column","custom","prop","order","replace","getResultList","hideDate","val","setTimeout","dateNodeStart","undefined","dateNodeEnd","startBool","endBool","getElementsByClassName","$el","firstElementChild","activeElement","style","display","checknum","value","that","test","handleSizeChange","localStorage","myInitPageSize","handleCurrentChange","changeSetvaule","assign_default","tableHeaderClassName","_ref","row","rowIndex","openDailog","util","showDailog_mask","hideComponent","hiddenDailog_mask","showMsgfromchild","list","handleProcessCategory","handleProcess","search","refresh","$refs","$emit","exportList","$message","warning","startLoading","lock","text","background","target","querySelector","$axios","post","tableName","params","responseType","then","result","content","exportSearchList","endLoading","catch","err","error","Quvalidation","res","status","console","log","approveTimeList","pageControllerInfo","totalRecordCount","processId","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","node","push","return","join","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","id","handleQueryParam","orgID","pc_ID","watch","handler","old","deep","report_form_approvalTime","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","span","on","click","$event","$router","back","_v","round","size","class","screenList_box_ie","isIE","ref","label-width","callback","$$v","expression","isShowStar","label","staticStyle","color","font-size","float","position","top","left","value-format","clearable","picker-options","placeholder","focus","$set","dblclick","disabled","title","input","icon","height","header-row-class-name","border","highlight-current-row","sort-change","property","width","sortable","scopedSlots","_u","key","fn","scope","userID","_s","min-width","userName","departmentName","numer","avgTIME","processIDList","activityNameList","slot","length","_e","tag","sureSubmit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.c9a15bee442296344269.js","sourcesContent":["<template>\r\n  <div class=\"staticReports todoProcess loadingtext\">\r\n    <el-container>\r\n      <el-header>\r\n        <div class=\"staticReports minWidth\">\r\n          <div class=\"taticReports-content\">\r\n            <el-row type=\"flex\" class=\" staticReports-header \" justify=\"space-between\">\r\n              <el-col :span=\"17\" class=\"titleMT\"><span class=\"mz\" @click=\"$router.back(-1)\">流程报表</span><i class=\"el-icon-arrow-down\"></i>\r\n              </el-col>\r\n              <el-col :span=\"6\" class=\"titleBtn clearfix\">\r\n                <el-button round @click=\"refresh\" type=\"primary\" size=\"mini\">重置</el-button>\r\n                <el-button round @click=\"search\" type=\"primary\" size=\"mini\">搜索</el-button>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n      </el-header>\r\n\r\n      <el-main>\r\n        <div class=\"mainContaint\">\r\n          <div class=\"todoProcess-screenList screenList-box\" :class=\"{screenList_box_ie:isIE}\">\r\n            <el-row>\r\n              <el-col :span=\"24\" class=\"report\">\r\n                <span>用户平均审批时间</span>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <!-- 更多筛选 begin -->\r\n            <el-form label-width=\"100px\" size=\"mini\" class=\"todoForm\" v-model=\"processform\" ref=\"processform\">\r\n              <!-- 第一行  begin  -->\r\n              <el-row type=\"\">\r\n                <!-- 公司 组织 项目 -->\r\n                <CascaderOrganize :isShowStar=\"true\" :defaultFirst=\"defaultFirst\" ref=\"cascaderOrganize\" @changeSetvaule=\"changeSetvaule\"></CascaderOrganize>\r\n              </el-row>\r\n              <!-- 第二行  begin  -->\r\n              <el-row type=\"\">\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"发起时段\">\r\n                    <span style=\"color: red; font-size: 14px; float: left; position: absolute; top: 0; left: -10px;\">*</span>\r\n                    <div class=\"money-box\">\r\n                      <el-form-item>\r\n                        <el-date-picker\r\n                          class=\"todoDate\"\r\n                          v-model=\"processform.date[0]\"\r\n                          value-format=\"yyyy-MM-dd\"\r\n                          type=\"date\"\r\n                          :clearable=\"false\"\r\n                          :picker-options=\"pickerOptionsBefore\"\r\n                          @focus=\"hideDate\"\r\n                          placeholder=\"选择日期\">\r\n                        </el-date-picker>\r\n                      </el-form-item>\r\n                      <el-form-item>~</el-form-item>\r\n                      <el-form-item>\r\n                        <el-date-picker\r\n                          class=\"todoDate\"\r\n                          style=\"float: right;\"\r\n                          v-model=\"processform.date[1]\"\r\n                          value-format=\"yyyy-MM-dd\"\r\n                          type=\"date\"\r\n                          :clearable=\"false\"\r\n                          :picker-options=\"pickerOptionsAfter\"\r\n                          @focus=\"hideDate\"\r\n                          placeholder=\"选择日期\">\r\n                        </el-date-picker>\r\n                      </el-form-item>\r\n                    </div>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"流程分类\">\r\n                    <span @dblclick=\"openDailog('processClassification')\">\r\n                      <el-input disabled v-model=\"processCategoryName\" placeholder=\"请选择...\" class=\"input-text\" :title=\"processCategoryName\"></el-input>\r\n                    </span>\r\n                    <i class=\"iconfont icon-category \" @click=\"openDailog('processClassification')\"></i>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"流程\">\r\n                    <span @dblclick=\"openDailog('processSelection')\">\r\n                      <el-input disabled v-model=\"processName\" placeholder=\"请选择...\" class=\"input-text\" :title=\"processName\"></el-input>\r\n                    </span>\r\n                    <i class=\"iconfont icon-category \" @click=\"openDailog('processSelection')\"></i>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n                <el-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"审批超过\">\r\n                    <span style=\"color: red; font-size: 14px; float: left; position: absolute; top: 0; left: -10px;\">*</span>\r\n                    <span class=\"clearfix\">\r\n                      <el-input  type=\"text\"\r\n                          class=\"hours input-embedded input-text\" v-model=\"processform.approveTime\"  v-on:input=\"checknum(processform.approveTime)\">\r\n                      </el-input>\r\n                      <i class=\"text-embedded\">小时</i>\r\n                    </span>\r\n\r\n                  </el-form-item>\r\n                </el-col>\r\n                </el-row>\r\n\r\n              <!-- 第二行  end  -->\r\n            </el-form>\r\n             <!-- 更多筛选 end -->\r\n\r\n            <div class=\"todoProcess-main\">\r\n\r\n              <!--筛选列表 按钮列 begin-->\r\n              <el-row type=\"flex\" justify=\"end\" class=\"listButton\">\r\n                <el-button round @click=\"exportList\" class=\"upload\" type=\"primary\" icon=\"iconfont icon-export\" size=\"mini\">导出\r\n                </el-button>\r\n              </el-row>\r\n              <!--筛选列表 按钮列 end-->\r\n\r\n              <div class=\"list\">\r\n                <el-table :data=\"tableData\"\r\n                          :height=\"bodyHeight - 400\"\r\n                          :header-row-class-name=\"tableHeaderClassName\"\r\n                          ref=\"singleTable\"\r\n                          border\r\n                          highlight-current-row\r\n                          size=\"mini\"\r\n                          @sort-change=\"sortChange\">\r\n\r\n                  <el-table-column property=\"userID\" label=\"审批人账号\" width=\"130\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.userID\">{{ scope.row.userID }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column property=\"userName\" label=\"审批人\" min-width=\"130\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.userName\">{{ scope.row.userName }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column property=\"departmentName\" min-width=\"130\" label=\"部门名称\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.departmentName\">{{ scope.row.departmentName }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column property=\"numer\" width=\"130\" label=\"审批次数\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.numer\">{{ scope.row.numer }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column property=\"totaltime\" width=\"130\" label=\"审批时长\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.total\">{{ scope.row.total }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column property=\"totaltime\" width=\"130\" label=\"平均审批时长\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.avgTIME\">{{ scope.row.avgTIME }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <el-table-column property=\"processIDList\" width=\"100\" label=\"流程ID\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.processIDList\">{{ scope.row.processIDList }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n\r\n                  <!-- 添加步骤列 2019-02-20 scc -->\r\n                  <el-table-column property=\"activityNameList\" width=\"100\" label=\"审批步骤\" sortable='custom'>\r\n                    <template slot-scope=\"scope\">\r\n                      <div class=\"table-popover\" :title=\"scope.row.activityNameList\">{{ scope.row.activityNameList }}</div>\r\n                    </template>\r\n                  </el-table-column>\r\n                  <!-- 添加步骤列 2019-02-20 scc -->\r\n\r\n                  <div slot=\"empty\">\r\n                    <p>暂无数据</p>\r\n                  </div>\r\n                   <div slot=\"append\">\r\n                     <!--分页 -->\r\n                    <page v-if=\"tableData.length > 0\" :pageIndex=\"pageIndex\"\r\n                          :total=\"total\"\r\n                          :pageSize=\"pageSize\"\r\n                          :pageSizesList=\"pageSizesList\"\r\n                          @handleSizeChange=\"handleSizeChange\"\r\n                          @handleCurrentChange=\"handleCurrentChange\">\r\n                    </page>\r\n                   </div>\r\n                </el-table>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n          <!--弹窗组件-->\r\n          <component :is=\"componentParam.componentType\" v-if=\"showdialog\" @hideComponent=\"hideComponent\" v-on:sureSubmit=\"showMsgfromchild\" v-bind:componentParam=\"componentParam\"></component>\r\n      </el-main>\r\n    </el-container>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapState, mapGetters } from \"vuex\";\r\n  import moment from \"moment\";\r\n  import util from \"../js/util.js\";\r\n  import page from \"../plugins/page/index\";\r\n  import CascaderOrganize from \"../plugins/cascaderOrganize/index\";\r\n  import processSelection from \"../components/dailog/processSelection.vue\";\r\n  import processClassification from \"../components/dailog/processClassification.vue\";\r\n  import loading from \"../plugins/loading/loading\";\r\n  export default {\r\n    name: \"processInstance\",\r\n    components: {\r\n      CascaderOrganize, //公司、部门、项目\r\n      processClassification, //选择流程分类\r\n      processSelection, //选择流程\r\n      page //分页\r\n    },\r\n    computed: {\r\n      //监听表格的高度\r\n      bodyHeight() {\r\n        return document.documentElement.clientHeight;\r\n      },\r\n      ...mapGetters([\"isIE\", \"bodyHeight\"])\r\n    },\r\n    data() {\r\n      return {\r\n        //日期禁用\r\n        pickerOptionsBefore:{\r\n          disabledDate: (time) => {\r\n            let beginDateVal = this.processform.date[1];\r\n            if (beginDateVal) {\r\n              return moment(time).format(\"YYYY-MM-DD\") > beginDateVal;\r\n            }\r\n          }\r\n        },\r\n        pickerOptionsAfter:{\r\n          disabledDate: (time) => {\r\n            let beginDateVal = this.processform.date[0];\r\n            if (beginDateVal) {\r\n              return moment(time).format(\"YYYY-MM-DD\") < beginDateVal;\r\n            }\r\n          }\r\n        },\r\n        tableData: [], //表格数据集\r\n        processFormName: \"\", // 流程类别名称\r\n        processCategoryName: \"\", //流程分类名\r\n        processCategoryIDs: \"\", //流程分类id\r\n        processName: \"\", // 流程名\r\n        processIDs: \"\", //流程id\r\n        loading: false, //加载loading\r\n        //公司(organize)、部门(department)、项目(projects) 默认选择第一条\r\n        defaultFirst:['organize'],\r\n        //表单数据\r\n        processform: {\r\n          organize: {}, //当前选中 公司\r\n          department: {}, //当前选中 部门\r\n          projects: {}, //当前选中 项目\r\n          approveTime:\"\",//审批时间\r\n          date: [\r\n            moment()\r\n              .subtract(1, \"months\")\r\n              .format(\"YYYY-MM-DD\"),\r\n            moment().format(\"YYYY-MM-DD\")\r\n          ],\r\n          processCategoryList: [], //已选择 流程分类 数据\r\n          processList: [] //流程 数据\r\n        },\r\n        // 查询条件\r\n        model: {\r\n          companyID: \"\", //公司Id\r\n          startDateFrom: \"\", //开始时间\r\n          startDateTo: \"\", //结束时间\r\n          departmentID: \"\", //部门Id\r\n          projectID: \"\", //项目Id\r\n          processCategoryIDs: \"\", //流程分类Id\r\n          processID: \"\" ,//流程Id\r\n          orderBy:\"\",//排序\r\n        },\r\n        showdialog: false, //动态变更弹出框组件\r\n        //component 弹窗 子组件 所有参数\r\n        componentParam: {\r\n          //弹窗类型\r\n          componentType: {\r\n            type: String,\r\n            required: true\r\n          },\r\n          //需要 回填到组件上的 数据集合\r\n          backfillData: {\r\n            type: Array,\r\n            required: true\r\n          },\r\n          //子组件是否单选(true单选，false不是单选)\r\n          oneCheck: {\r\n            type: Boolean,\r\n            required: true\r\n          },\r\n          //控制弹窗头部标题显示隐藏(默认显示)\r\n          closeShow: {\r\n            type: Boolean,\r\n            required: true\r\n          }\r\n        },\r\n        pageIndex: 1, // 分页参数\r\n        total: 0,\r\n        pageSize: 20,\r\n        pageSizesList: [20, 50, 100]\r\n      };\r\n    },\r\n    mounted() {\r\n    },\r\n    /**\r\n     * 流程实例基础数据表界面构造函数\r\n     */\r\n    methods: {\r\n      formatMinutes(minutes) {\r\n        var day = parseInt(Math.floor(minutes / 1440));\r\n        var hour = day > 0\r\n          ? Math.floor((minutes - day * 1440) / 60)\r\n          : Math.floor(minutes / 60);\r\n        var minute = hour > 0\r\n          ? Math.floor(minutes - day * 1440 - hour * 60)\r\n          : minutes;\r\n        var time = \"\";\r\n        if (day > 0) time += day + \"天\";\r\n        if (hour > 0) time += hour + \"小时\";\r\n        if (minute > 0) time += minute + \"分钟\";\r\n        return time;\r\n      },\r\n      //表格排序\r\n      sortChange(column) {\r\n        let custom = column.prop == \"statusName\" ? \"dodoType\" : column.prop;\r\n        this.model.orderBy = `${custom} ${column.order.replace(\"ending\", \"\")}`;\r\n        this.pageIndex = 1;\r\n        this.getResultList();\r\n      },\r\n      // 点击input 不显示控件 点击icon图标显示控件\r\n      hideDate(val) {\r\n        setTimeout( () => {\r\n          let dateNodeStart = undefined;\r\n          let dateNodeEnd = undefined;\r\n          let startBool = null;\r\n          let endBool = null;\r\n          if (document.getElementsByClassName('el-picker-panel')[0]) {\r\n            startBool = true;\r\n          }\r\n          if (document.getElementsByClassName('el-picker-panel')[1]) {\r\n            endBool = true;\r\n          }\r\n\r\n          dateNodeStart = startBool ? document.getElementsByClassName('el-picker-panel')[0] : '';\r\n          dateNodeEnd = endBool ? document.getElementsByClassName('el-picker-panel')[1] : '';\r\n\r\n          if (val.$el.firstElementChild == document.activeElement) {\r\n            startBool ? dateNodeStart.style.display = 'none' : '';\r\n            endBool ? dateNodeEnd.style.display = 'none' : ''\r\n          } else {\r\n            startBool ? dateNodeStart.style.display = 'block' : '';\r\n            endBool ? dateNodeEnd.style.display = 'block' : ''\r\n          }\r\n        }, 10)\r\n      },\r\n      checknum(value){\r\n        let regPos =/^([1-9]\\d{0,9}|0)([.]?|(\\.\\d{1,2})?)$/;\r\n        let that = this\r\n        if (!regPos.test(value)) {\r\n          setTimeout(function () {\r\n            that.processform.approveTime = '';\r\n          }, 100);\r\n        }\r\n      },\r\n\r\n      //翻页\r\n      handleSizeChange(val) {\r\n        this.pageIndex = 1;\r\n        this.pageSize = parseInt(val);\r\n        localStorage.myInitPageSize = val;\r\n        this.getResultList();\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.pageIndex = val;\r\n        this.getResultList();\r\n      },\r\n      //公司、组织、项目 控件 选择后触发\r\n      changeSetvaule(val) {\r\n        this.processform = Object.assign({},this.processform,val.data)\r\n      },\r\n      /**\r\n       *设置表头标题class\r\n       */\r\n      tableHeaderClassName({ row, rowIndex }) {\r\n        return \"table-head-th\";\r\n      },\r\n      /**\r\n       * 打开弹框\r\n       */\r\n      openDailog(type) {\r\n        //控制弹窗头部标题显示隐藏(默认显示)\r\n        this.componentParam.closeShow = false;\r\n        // 弹出框类型\r\n        this.componentParam.componentType = type;\r\n        //是否单选\r\n        this.componentParam.oneCheck = false;\r\n        //设置回填数据\r\n        if (type == \"processClassification\") {\r\n          this.componentParam.backfillData = this.processform.processCategoryList;\r\n        } else if (type == \"processSelection\") {\r\n          this.componentParam.backfillData = this.processform.processList;\r\n        }\r\n        this.showdialog = true;\r\n        util.showDailog_mask(); //解决ie浏览器问题显示遮罩\r\n      },\r\n      /**\r\n       * 关闭弹出框组件\r\n       */\r\n      hideComponent() {\r\n        this.showdialog = false;\r\n        util.hiddenDailog_mask(); //解决ie浏览器问题 隐藏遮罩\r\n      },\r\n      /**\r\n       * 弹窗组件带出数据赋值给主组件\r\n       */\r\n      showMsgfromchild(data) {\r\n        //流程分类 选择\r\n        if (data.type && data.type == \"processClassification\") {\r\n          this.processform.processCategoryList = data.list;\r\n          this.handleProcessCategory()\r\n        } else if (data.type && data.type == \"processSelection\") {\r\n          //流程 选择\r\n          this.processform.processList = data.list;\r\n          this.handleProcess()\r\n        }\r\n        this.hideComponent();\r\n      },\r\n      /**\r\n       * 搜索\r\n       */\r\n      search() {\r\n        this.getResultList();\r\n      },\r\n      /**\r\n       * reset\r\n       */\r\n      refresh() {\r\n        this.processform={\r\n          organize: {}, //当前选中 公司\r\n          department: {}, //当前选中 部门\r\n          projects: {}, //当前选中 项目\r\n          //时间\r\n          date: [\r\n            moment()\r\n              .subtract(1, \"months\")\r\n              .format(\"YYYY-MM-DD\"),\r\n            moment().format(\"YYYY-MM-DD\")\r\n          ],\r\n          processCategoryList: [], //已选择 流程分类 数据\r\n          processList: [] ,//流程 数据\r\n          approveTime:''\r\n        }\r\n        this.$refs.cascaderOrganize.$emit(\"refresh\"); // 刷新 公司、部门、项目组件\r\n      },\r\n      /**\r\n       * 导出\r\n       */\r\n      exportList() {\r\n        let that = this\r\n        if(that.model.processID =='' && that.model.processCategoryIDs == '' ){\r\n          that.$message.warning('请选择流程分类或流程!');\r\n          return;\r\n        }\r\n\r\n        if(that.processform.approveTime == ''){\r\n          that.$message.warning('审批时间超过N小时不能为空！');\r\n          return;\r\n        }if(that.processform.approveTime> 10000){\r\n          that.$message.warning('审批时间超过N小时必须为小于10000数字！');\r\n          return\r\n        }\r\n\r\n        loading.startLoading({\r\n          lock: true,\r\n          text: '加载中...',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          target: document.querySelector('.loadingtext')\r\n        });\r\n        that.$axios.post('/api/exportExcelForTable',  {'tableName':'用户平均审批时间','params': that.model}, {responseType: 'blob'}).then((result) => {\r\n          const content = result.data;\r\n          const dowLoadFileName = '用户平均审批时间';\r\n          util.exportSearchList(dowLoadFileName, content);\r\n          loading.endLoading();\r\n        }).catch((err) => {\r\n          loading.endLoading();\r\n          that.$message.error(`导出Excel失败!ERROR MESSAGE:${err}`);\r\n        });\r\n      },\r\n      // 查询条件验证\r\n      Quvalidation(){\r\n\r\n      },\r\n      /**\r\n       * 获取报表结果请求数据\r\n       */\r\n      getResultList() {\r\n        let that = this;\r\n        if(that.model.companyID === ''){\r\n          that.$message.warning('请选择所属公司!');\r\n          return;\r\n        }\r\n        if(that.model.processID =='' && that.model.processCategoryIDs == '' ){\r\n          that.$message.warning('请选择流程分类或流程!');\r\n          return;\r\n        }\r\n        if(!this.model.startDateFrom || !this.model.startDateTo){\r\n          this.$message.warning('请选择日期!');\r\n          return\r\n        }\r\n        if(that.processform.approveTime == ''){\r\n          that.$message.warning('审批时间超过N小时不能为空!');\r\n          return;\r\n        }if(that.processform.approveTime> 10000){\r\n          that.$message.warning('审批时间超过N小时必须为小于10000数字!');\r\n          return\r\n        }\r\n        if (that.model.startDateFrom !== '' || that.model.startDateTo !== '') {\r\n          if(that.model.startDateFrom < '1753-01-01' || that.model.startDateTo < '1753-01-01') {\r\n            this.$message.warning('请选择1753-01-01 ~ 9999-12-31之间的日期');\r\n            // this.processform.date = [];\r\n            return;\r\n          }\r\n        }\r\n        // if(errorMsg.length <= 0){\r\n        loading.startLoading();\r\n        // ?pageIndex=' + (that.pageIndex-1) + '&pageSize=' + that.pageSize + '\r\n        that.$axios.post('/api/ApproveTime/page?pageIndex=' + (that.pageIndex-1) + '&pageSize=' + that.pageSize + '', this.model).then(res => {\r\n          loading.endLoading();\r\n            if (res.status === 200) {\r\n              console.log(res.data);\r\n              that.tableData = res.data.approveTimeList;\r\n              that.total = res.data.pageControllerInfo.totalRecordCount\r\n            } else {\r\n              that.$message.error(\"请求失败！\");\r\n            }\r\n          }).catch(err => {\r\n          loading.endLoading();\r\n          that.$message.error(`查询列表数据失败!ERROR MESSAGE:${err}`);\r\n          });\r\n        // }\r\n      },\r\n      //处理 流程数据\r\n      handleProcess(){\r\n        let processId = []\r\n        let processName = []\r\n        for (let node of this.processform.processList) {\r\n          processName.push(node.name)\r\n          processId.push(node.processId + \"\")\r\n        }\r\n        this.processName = processName.join(\"；\")\r\n        this.processIDs = processId.join(\",\")\r\n        return processId.join(\",\")||''\r\n      },\r\n      //处理 流程分类数据\r\n      handleProcessCategory(){\r\n        let processCategoryIDs = []\r\n        let processCategoryName = []\r\n        for (let node of this.processform.processCategoryList) {\r\n            processCategoryName.push(node.name)\r\n            processCategoryIDs.push(node.id + \"\")\r\n        }\r\n        this.processCategoryName = processCategoryName.join(\"；\")\r\n        this.processCategoryIDs = processCategoryIDs.join(\",\")\r\n        return processCategoryIDs.join(\",\")||''\r\n      },\r\n      //处理查询条件数据\r\n      handleQueryParam(data){\r\n        // console.log(data)\r\n        this.model = {\r\n          companyID: data.organize.orgID||'', //公司Id\r\n          startDateFrom: data.date[0], //开始时间\r\n          startDateTo: data.date[1], //结束时间\r\n          departmentID:data.department.id||'', //部门Id\r\n          projectID: data.projects.pc_ID||'', //项目Id\r\n          processCategoryIDs: this.handleProcessCategory(), //流程分类Id\r\n          processID: this.handleProcess() ,//流程Id\r\n          approveTime:data.approveTime,//审批时间\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      processform:{\r\n        handler(val, old) {\r\n          // console.log(val,'processform')\r\n          this.handleQueryParam(val)\r\n          // console.log(val,'processCategoryList')\r\n        },\r\n        deep: true,\r\n\r\n      },\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/report_form/approvalTime.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"staticReports todoProcess loadingtext\"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"staticReports minWidth\"},[_c('div',{staticClass:\"taticReports-content\"},[_c('el-row',{staticClass:\" staticReports-header \",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"titleMT\",attrs:{\"span\":17}},[_c('span',{staticClass:\"mz\",on:{\"click\":function($event){_vm.$router.back(-1)}}},[_vm._v(\"流程报表\")]),_c('i',{staticClass:\"el-icon-arrow-down\"})]),_vm._v(\" \"),_c('el-col',{staticClass:\"titleBtn clearfix\",attrs:{\"span\":6}},[_c('el-button',{attrs:{\"round\":\"\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.refresh}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1)],1)],1)])]),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"mainContaint\"},[_c('div',{staticClass:\"todoProcess-screenList screenList-box\",class:{screenList_box_ie:_vm.isIE}},[_c('el-row',[_c('el-col',{staticClass:\"report\",attrs:{\"span\":24}},[_c('span',[_vm._v(\"用户平均审批时间\")])])],1),_vm._v(\" \"),_c('el-form',{ref:\"processform\",staticClass:\"todoForm\",attrs:{\"label-width\":\"100px\",\"size\":\"mini\"},model:{value:(_vm.processform),callback:function ($$v) {_vm.processform=$$v},expression:\"processform\"}},[_c('el-row',{attrs:{\"type\":\"\"}},[_c('CascaderOrganize',{ref:\"cascaderOrganize\",attrs:{\"isShowStar\":true,\"defaultFirst\":_vm.defaultFirst},on:{\"changeSetvaule\":_vm.changeSetvaule}})],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"发起时段\"}},[_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"14px\",\"float\":\"left\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"-10px\"}},[_vm._v(\"*\")]),_vm._v(\" \"),_c('div',{staticClass:\"money-box\"},[_c('el-form-item',[_c('el-date-picker',{staticClass:\"todoDate\",attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"clearable\":false,\"picker-options\":_vm.pickerOptionsBefore,\"placeholder\":\"选择日期\"},on:{\"focus\":_vm.hideDate},model:{value:(_vm.processform.date[0]),callback:function ($$v) {_vm.$set(_vm.processform.date, 0, $$v)},expression:\"processform.date[0]\"}})],1),_vm._v(\" \"),_c('el-form-item',[_vm._v(\"~\")]),_vm._v(\" \"),_c('el-form-item',[_c('el-date-picker',{staticClass:\"todoDate\",staticStyle:{\"float\":\"right\"},attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"clearable\":false,\"picker-options\":_vm.pickerOptionsAfter,\"placeholder\":\"选择日期\"},on:{\"focus\":_vm.hideDate},model:{value:(_vm.processform.date[1]),callback:function ($$v) {_vm.$set(_vm.processform.date, 1, $$v)},expression:\"processform.date[1]\"}})],1)],1)])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"流程分类\"}},[_c('span',{on:{\"dblclick\":function($event){_vm.openDailog('processClassification')}}},[_c('el-input',{staticClass:\"input-text\",attrs:{\"disabled\":\"\",\"placeholder\":\"请选择...\",\"title\":_vm.processCategoryName},model:{value:(_vm.processCategoryName),callback:function ($$v) {_vm.processCategoryName=$$v},expression:\"processCategoryName\"}})],1),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-category \",on:{\"click\":function($event){_vm.openDailog('processClassification')}}})])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"流程\"}},[_c('span',{on:{\"dblclick\":function($event){_vm.openDailog('processSelection')}}},[_c('el-input',{staticClass:\"input-text\",attrs:{\"disabled\":\"\",\"placeholder\":\"请选择...\",\"title\":_vm.processName},model:{value:(_vm.processName),callback:function ($$v) {_vm.processName=$$v},expression:\"processName\"}})],1),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-category \",on:{\"click\":function($event){_vm.openDailog('processSelection')}}})])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"审批超过\"}},[_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"14px\",\"float\":\"left\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"-10px\"}},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{staticClass:\"clearfix\"},[_c('el-input',{staticClass:\"hours input-embedded input-text\",attrs:{\"type\":\"text\"},on:{\"input\":function($event){_vm.checknum(_vm.processform.approveTime)}},model:{value:(_vm.processform.approveTime),callback:function ($$v) {_vm.$set(_vm.processform, \"approveTime\", $$v)},expression:\"processform.approveTime\"}}),_vm._v(\" \"),_c('i',{staticClass:\"text-embedded\"},[_vm._v(\"小时\")])],1)])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"todoProcess-main\"},[_c('el-row',{staticClass:\"listButton\",attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('el-button',{staticClass:\"upload\",attrs:{\"round\":\"\",\"type\":\"primary\",\"icon\":\"iconfont icon-export\",\"size\":\"mini\"},on:{\"click\":_vm.exportList}},[_vm._v(\"导出\\n              \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('el-table',{ref:\"singleTable\",attrs:{\"data\":_vm.tableData,\"height\":_vm.bodyHeight - 400,\"header-row-class-name\":_vm.tableHeaderClassName,\"border\":\"\",\"highlight-current-row\":\"\",\"size\":\"mini\"},on:{\"sort-change\":_vm.sortChange}},[_c('el-table-column',{attrs:{\"property\":\"userID\",\"label\":\"审批人账号\",\"width\":\"130\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.userID}},[_vm._v(_vm._s(scope.row.userID))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"userName\",\"label\":\"审批人\",\"min-width\":\"130\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.userName}},[_vm._v(_vm._s(scope.row.userName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"departmentName\",\"min-width\":\"130\",\"label\":\"部门名称\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.departmentName}},[_vm._v(_vm._s(scope.row.departmentName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"numer\",\"width\":\"130\",\"label\":\"审批次数\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.numer}},[_vm._v(_vm._s(scope.row.numer))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"totaltime\",\"width\":\"130\",\"label\":\"审批时长\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.total}},[_vm._v(_vm._s(scope.row.total))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"totaltime\",\"width\":\"130\",\"label\":\"平均审批时长\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.avgTIME}},[_vm._v(_vm._s(scope.row.avgTIME))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"processIDList\",\"width\":\"100\",\"label\":\"流程ID\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.processIDList}},[_vm._v(_vm._s(scope.row.processIDList))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"property\":\"activityNameList\",\"width\":\"100\",\"label\":\"审批步骤\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.activityNameList}},[_vm._v(_vm._s(scope.row.activityNameList))])]}}])}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_c('p',[_vm._v(\"暂无数据\")])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"append\"},slot:\"append\"},[(_vm.tableData.length > 0)?_c('page',{attrs:{\"pageIndex\":_vm.pageIndex,\"total\":_vm.total,\"pageSize\":_vm.pageSize,\"pageSizesList\":_vm.pageSizesList},on:{\"handleSizeChange\":_vm.handleSizeChange,\"handleCurrentChange\":_vm.handleCurrentChange}}):_vm._e()],1)],1)],1)],1)],1)]),_vm._v(\" \"),(_vm.showdialog)?_c(_vm.componentParam.componentType,{tag:\"component\",attrs:{\"componentParam\":_vm.componentParam},on:{\"hideComponent\":_vm.hideComponent,\"sureSubmit\":_vm.showMsgfromchild}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29a5f2f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/report_form/approvalTime.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29a5f2f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./approvalTime.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./approvalTime.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./approvalTime.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29a5f2f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./approvalTime.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-29a5f2f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/report_form/approvalTime.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}