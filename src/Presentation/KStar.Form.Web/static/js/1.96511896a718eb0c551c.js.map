{"version":3,"sources":["webpack:///src/report_form/approvalForm.vue","webpack:///./src/report_form/approvalForm.vue?2474","webpack:///./src/report_form/approvalForm.vue"],"names":["approvalForm","name","components","CascaderOrganize","cascaderOrganize","processClassification","processSelection","page","computed","extends_default","bodyHeight","document","documentElement","clientHeight","Object","vuex_esm","data","_this","this","pickerOptionsBefore","disabledDate","time","beginDateVal","processform","date","moment_default","format","pickerOptionsAfter","tableData","processFormName","processCategoryName","processCategoryIDs","processName","processIDs","defaultFirst","organize","department","projects","subtract","processCategoryList","processList","model","url","port","companyID","startDateFrom","startDateTo","departmentID","projectID","processID","showdialog","componentParam","componentType","type","String","required","backfillData","Array","oneCheck","Boolean","closeShow","pageIndex","total","pageSize","pageSizesList","mounted","methods","jumpToOld","row","util","browserIsIE","escape","viewUrl","window","open","sortChange","column","custom","prop","orderBy","order","replace","getResultList","hideDate","val","setTimeout","dateNodeStart","undefined","dateNodeEnd","startBool","endBool","getElementsByClassName","$el","firstElementChild","activeElement","style","display","handleSizeChange","parseInt","localStorage","myInitPageSize","console","log","handleCurrentChange","changeSetvaule","assign_default","tableHeaderClassName","_ref","rowIndex","openDailog","showDailog_mask","hideComponent","hiddenDailog_mask","showMsgfromchild","list","handleProcessCategory","handleProcess","search","refresh","$refs","$emit","exportList","that","loading","startLoading","lock","text","background","target","querySelector","$axios","post","tableName","params","responseType","then","result","content","exportSearchList","endLoading","catch","err","$message","error","warning","_this2","res","status","processOperationList","pageControllerInfo","totalRecordCount","processId","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","node","value","push","return","join","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","id","handleQueryParam","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","item","orgID","pc_ID","watch","handler","old","deep","report_form_approvalForm","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","span","on","click","$event","$router","back","_v","round","size","class","screenList_box_ie","isIE","ref","label-width","callback","$$v","expression","isShowStar","label","staticStyle","color","font-size","float","position","top","left","value-format","clearable","picker-options","placeholder","focus","$set","dblclick","disabled","title","icon","height","header-row-class-name","border","highlight-current-row","sort-change","min-width","sortable","scopedSlots","_u","key","fn","scope","userID","_s","width","userName","align","categoryFullName","folio","departmentName","projectName","startDate","acceptDate","approvalDate","totaltime","activityName","slot","length","_e","tag","sureSubmit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.96511896a718eb0c551c.js","sourcesContent":["<template>\n  <div class=\"staticReports loadingtext todoProcess \">\n    <el-container>\n      <el-header>\n        <div class=\"staticReports minWidth\">\n          <div class=\"taticReports-content\">\n           <el-row type=\"flex\" class=\" staticReports-header \" justify=\"space-between\">\n             <el-col :span=\"17\" class=\"titleMT\"><span class=\"mz\" @click=\"$router.back(-1)\">流程报表</span><i class=\"el-icon-arrow-down\"></i>\n            </el-col>\n            <el-col :span=\"6\"  class=\"titleBtn clearfix\">\n              <el-button round type=\"primary\" size=\"mini\" @click=\"refresh()\">重置</el-button>\n              <el-button round type=\"primary\" size=\"mini\" @click=\"search()\">搜索</el-button>\n            </el-col>\n           </el-row>\n          </div>\n        </div>\n      </el-header>\n\n      <el-main>\n        <div class=\"mainContaint\">\n          <div class=\"todoProcess-screenList screenList-box\" :class=\"{screenList_box_ie:isIE}\">\n            <el-row>\n              <el-col :span=\"24\" class=\"report\">\n                <span >审批操作基础数据表</span>\n              </el-col>\n            </el-row>\n\n            <!-- 更多筛选 begin -->\n            <el-form label-width=\"100px\" size=\"mini\" class=\"todoForm\" v-model=\"processform\" ref=\"processform\">\n              <!-- 第一行  begin  -->\n              <el-row type=\"\">\n                <!-- 公司 组织 项目 -->\n                <CascaderOrganize :isShowStar=\"true\" :defaultFirst=\"defaultFirst\" ref=\"cascaderOrganize\" @changeSetvaule=\"changeSetvaule\"></CascaderOrganize>\n              </el-row>\n              <!-- 第二行  begin  -->\n              <el-row type=\"\">\n                <el-col :span=\"8\">\n                  <el-form-item label=\"发起时段\">\n                    <span style=\"color: red; font-size: 14px; float: left; position: absolute; top: 0; left: -10px;\">*</span>\n                     <div class=\"money-box\">\n                      <el-form-item>\n                        <el-date-picker\n                          class=\"todoDate\"\n                          v-model=\"processform.date[0]\"\n                          value-format=\"yyyy-MM-dd\"\n                          type=\"date\"\n                          :clearable=\"false\"\n                          :picker-options=\"pickerOptionsBefore\"\n                          @focus=\"hideDate\"\n                          placeholder=\"选择日期\">\n                        </el-date-picker>\n                      </el-form-item>\n                      <el-form-item>~</el-form-item>\n                      <el-form-item>\n                        <el-date-picker\n                          class=\"todoDate\"\n                          style=\"float: right;\"\n                          v-model=\"processform.date[1]\"\n                          value-format=\"yyyy-MM-dd\"\n                          type=\"date\"\n                          :clearable=\"false\"\n                          :picker-options=\"pickerOptionsAfter\"\n                          @focus=\"hideDate\"\n                          placeholder=\"选择日期\">\n                        </el-date-picker>\n                      </el-form-item>\n                    </div>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"流程分类\">\n                    <span @dblclick=\"openDailog('processClassification')\">\n                      <el-input disabled v-model=\"processCategoryName\" placeholder=\"请选择...\" class=\"input-text\" :title=\"processCategoryName\"></el-input>\n                    </span>\n                    <i class=\"iconfont icon-category \" @click=\"openDailog('processClassification')\"></i>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"8\">\n                  <el-form-item label=\"流程\">\n                    <span @dblclick=\"openDailog('processSelection')\">\n                      <el-input disabled v-model=\"processName\" placeholder=\"请选择...\" class=\"input-text\" :title=\"processName\"></el-input>\n                    </span>\n                    <i class=\"iconfont icon-category \" @click=\"openDailog('processSelection')\"></i>\n                  </el-form-item>\n                </el-col>\n              </el-row>\n              <!-- 第二行  end  -->\n            </el-form>\n            <!-- 更多筛选 end -->\n\n            <div class=\"todoProcess-main\">\n\n              <!--筛选列表 按钮列 begin-->\n              <el-row type=\"flex\" justify=\"end\" class=\"listButton\">\n                <el-button round type=\"primary\" class=\"upload\" icon=\"iconfont icon-export\" size=\"mini\" @click=\"exportList()\">导出</el-button>\n              </el-row>\n              <!--筛选列表 按钮列 end-->\n\n              <!-- 表格 -->\n              <div class=\"list\">\n                <el-table\n                  :height=\"bodyHeight - 360\"\n                  @sort-change=\"sortChange\"\n                  :header-row-class-name=\"tableHeaderClassName\"\n                  ref=\"singleTable\"\n                  border\n                  highlight-current-row\n                  :data=\"tableData\"\n                  size=\"mini\" >\n\n                  <el-table-column\n                    prop=\"userID\"\n                    min-width=\"120px\"\n                    sortable='custom'\n                    label=\"审批人账号\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.userID\">{{ scope.row.userID }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"userName\"\n                    width=\"110px\"\n                    sortable='custom'\n                    label=\"审批人\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.userName\">{{ scope.row.userName }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"processInstanceID\"\n                    width=\"100px\"\n                    sortable='custom'\n                    label=\"流程ID\">\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"categoryFullName\"\n                    width=\"120px\"\n                    align=\"left\"\n                    sortable='custom'\n                    label=\"流程类别\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.categoryFullName\">{{ scope.row.categoryFullName }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"processName\"\n                    width=\"80px\"\n                    sortable='custom'\n                    label=\"流程\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.processName\">{{ scope.row.processName }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"folio\"\n                    sortable='custom'\n                    width=\"120px\"\n                    label=\"流程主题\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover folio\" @click=\"jumpToOld(scope.row)\" :title=\"scope.row.folio\">{{ scope.row.folio }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"amountOfMoney\"\n                    width=\"100px\"\n                    sortable='custom'\n                    label=\"金额\">\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"departmentName\"\n                    width=\"120px\"\n                    sortable='custom'\n                    label=\"部门名称\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.departmentName\">{{ scope.row.departmentName }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"projectName\"\n                    sortable='custom'\n                    width=\"100px\"\n                    label=\"项目\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.projectName\">{{ scope.row.projectName }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"startDate\"\n                    sortable='custom'\n                    width=\"120px\"\n                    label=\"发起时间\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.startDate\">{{ scope.row.startDate }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"acceptDate\"\n                    sortable='custom'\n                    width=\"120px\"\n                    label=\"接收时间\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.acceptDate\">{{ scope.row.acceptDate }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    sortable='custom'\n                    prop=\"approvalDate\"\n                    width=\"135px\"\n                    label=\"处理完成时间\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.approvalDate\">{{ scope.row.approvalDate }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"totaltime\"\n                    sortable='custom'\n                    width=\"120px\"\n                    label=\"审批时长\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.totaltime\">{{ scope.row.totaltime }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <el-table-column\n                    prop=\"activityName\"\n                    sortable='custom'\n                    width=\"135px\"\n                    label=\"审批步骤名称\">\n                    <template slot-scope=\"scope\">\n                      <div class=\"table-popover\" :title=\"scope.row.activityName\">{{ scope.row.activityName }}</div>\n                    </template>\n                  </el-table-column>\n\n                  <div slot=\"empty\">\n                    <p>暂无数据</p>\n                  </div>\n                  <div slot=\"append\">\n                    <!-- 分页 -->\n                    <page v-if=\"tableData.length > 0\" :pageIndex=\"pageIndex\" :total=\"total\" :pageSize=\"pageSize\" :pageSizesList=\"pageSizesList\"\n                          @handleSizeChange=\"handleSizeChange\" @handleCurrentChange=\"handleCurrentChange\"></page>\n                  </div>\n                </el-table>\n              </div>\n            </div>\n          </div>\n        </div>\n          <!--弹窗组件-->\n          <component :is=\"componentParam.componentType\" v-if=\"showdialog\"\n                     @hideComponent=\"hideComponent\" v-on:sureSubmit=\"showMsgfromchild\"\n                     v-bind:componentParam=\"componentParam\"></component>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport moment from \"moment\";\nimport util from \"../js/util.js\";\nimport page from \"../plugins/page/index\";\nimport CascaderOrganize from \"../plugins/cascaderOrganize/index\";\nimport processSelection from \"../components/dailog/processSelection.vue\";\nimport processClassification from \"../components/dailog/processClassification.vue\";\nimport loading from \"../plugins/loading/loading\";\n\nexport default {\n  name: \"processInstance\",\n  components: {\n    CascaderOrganize, //公司、部门、项目\n    processClassification, //选择流程分类\n    processSelection, //选择流程\n    page //分页\n  },\n  computed: {\n    //监听表格的高度\n    bodyHeight() {\n      return document.documentElement.clientHeight;\n    },\n    ...mapGetters([\"isIE\", \"bodyHeight\"])\n  },\n  data() {\n    return {\n      //日期禁用\n        pickerOptionsBefore:{\n          disabledDate: (time) => {\n            let beginDateVal = this.processform.date[1];\n            if (beginDateVal) {\n              return moment(time).format(\"YYYY-MM-DD\") > beginDateVal;\n            }\n          }\n        },\n        pickerOptionsAfter:{\n          disabledDate: (time) => {\n            let beginDateVal = this.processform.date[0];\n            if (beginDateVal) {\n              return moment(time).format(\"YYYY-MM-DD\") < beginDateVal;\n            }\n          }\n        },\n      tableData: [], //表格数据集\n      processFormName: \"\", // 流程类别名称\n      processCategoryName: \"\", //流程分类名\n      processCategoryIDs: \"\", //流程分类id\n      processName: \"\", // 流程名\n      processIDs: \"\", //流程id\n      //公司(organize)、部门(department)、项目(projects) 默认选择第一条\n      defaultFirst:['organize'],\n      //表单数据\n      processform: {\n        organize: {}, //当前选中 公司\n        department: {}, //当前选中 部门\n        projects: {}, //当前选中 项目\n        //时间\n        date: [\n          moment()\n            .subtract(1, \"months\")\n            .format(\"YYYY-MM-DD\"),\n          moment().format(\"YYYY-MM-DD\")\n        ],\n        processCategoryList: [], //已选择 流程分类 数据\n        processList: [] //流程 数据\n      },\n      // 查询条件\n      model: {\n        url: \"127.0.0.1\", //主题页面url\n        port: \"3306\", //主题页面port\n        companyID: \"\", //公司Id\n        startDateFrom: \"\", //开始时间\n        startDateTo: \"\", //结束时间\n        departmentID: \"\", //部门Id\n        projectID: \"\", //项目Id\n        processCategoryIDs: \"\", //流程分类Id\n        processID: \"\" //流程Id\n      },\n      showdialog: false, //动态变更弹出框组件\n      //component 弹窗 子组件 所有参数\n      componentParam: {\n        //弹窗类型\n        componentType: {\n          type: String,\n          required: true\n        },\n        //需要 回填到组件上的 数据集合\n        backfillData: {\n          type: Array,\n          required: true\n        },\n        //子组件是否单选(true单选，false不是单选)\n        oneCheck: {\n          type: Boolean,\n          required: true\n        },\n        //控制弹窗头部标题显示隐藏(默认显示)\n        closeShow: {\n          type: Boolean,\n          required: true\n        }\n      },\n      pageIndex: 1, // 分页参数\n      total: 0,\n      pageSize: 20,\n      pageSizesList: [20, 50, 100]\n    };\n  },\n  mounted() {\n  },\n  methods: {\n    // 主题跳转旧系统\n    jumpToOld (row) {\n      if(util.browserIsIE()){\n        //用静态页面接收发起和审批页面\n        var url=escape(row.viewUrl);\n        window.open(\"oldIframe.html?\"+\"viewurl=\"+url, \"_blank\");\n      }else{\n        window.open(row.viewUrl);\n      }\n    },\n    //表格排序\n    sortChange(column) {\n      let custom = column.prop == \"statusName\" ? \"dodoType\" : column.prop;\n      this.model.orderBy = `${custom} ${column.order.replace(\"ending\", \"\")}`;\n      this.pageIndex = 1;\n      this.getResultList();\n    },\n    // 点击input 不显示控件 点击icon图标显示控件\n    hideDate(val) {\n      setTimeout( () => {\n        let dateNodeStart = undefined;\n        let dateNodeEnd = undefined;\n        let startBool = null;\n        let endBool = null;\n        if (document.getElementsByClassName('el-picker-panel')[0]) {\n          startBool = true;\n        }\n        if (document.getElementsByClassName('el-picker-panel')[1]) {\n          endBool = true;\n        }\n\n        dateNodeStart = startBool ? document.getElementsByClassName('el-picker-panel')[0] : '';\n        dateNodeEnd = endBool ? document.getElementsByClassName('el-picker-panel')[1] : '';\n\n        if (val.$el.firstElementChild == document.activeElement) {\n          startBool ? dateNodeStart.style.display = 'none' : '';\n          endBool ? dateNodeEnd.style.display = 'none' : ''\n        } else {\n          startBool ? dateNodeStart.style.display = 'block' : '';\n          endBool ? dateNodeEnd.style.display = 'block' : ''\n        }\n      }, 10)\n    },\n    //翻页\n    handleSizeChange(val) {\n      this.pageIndex = 1;\n      this.pageSize = parseInt(val);\n      localStorage.myInitPageSize = val;\n      console.log(val, 'size');\n      this.getResultList();\n    },\n    handleCurrentChange(val) {\n      this.pageIndex = val;\n      console.log(val, 'current');\n      this.getResultList();\n    },\n    //公司、组织、项目 控件 选择后触发\n    changeSetvaule(val) {\n      this.processform = Object.assign({},this.processform,val.data)\n    },\n    // 设置表头标题class\n    tableHeaderClassName({ row, rowIndex }) {\n      return \"table-head-th\";\n    },\n    // 打开弹框\n    openDailog(type) {\n      //控制弹窗头部标题显示隐藏(默认显示)\n      this.componentParam.closeShow = false;\n      // 弹出框类型\n      this.componentParam.componentType = type;\n      //是否单选\n      this.componentParam.oneCheck = false;\n      //设置回填数据\n      if (type == \"processClassification\") {\n        this.componentParam.backfillData = this.processform.processCategoryList;\n      } else if (type == \"processSelection\") {\n        this.componentParam.backfillData = this.processform.processList;\n      }\n      this.showdialog = true;\n      util.showDailog_mask(); //解决ie浏览器问题显示遮罩\n    },\n    // 关闭弹出框组件\n    hideComponent() {\n      this.showdialog = false;\n      util.hiddenDailog_mask(); //解决ie浏览器问题 隐藏遮罩\n    },\n    // 弹窗组件带出数据赋值给主组件\n    showMsgfromchild(data) {\n      //流程分类 选择\n      if (data.type && data.type === \"processClassification\") {\n        this.processform.processCategoryList = data.list;\n        this.handleProcessCategory()\n      } else if (data.type && data.type === \"processSelection\") {\n        //流程 选择\n        this.processform.processList = data.list;\n        this.handleProcess()\n      }\n      this.hideComponent();\n    },\n    // 搜索\n    search() {\n      this.getResultList();\n    },\n    // 重置\n    refresh() {\n      this.processform={\n        organize: {}, //当前选中 公司\n        department: {}, //当前选中 部门\n        projects: {}, //当前选中 项目\n        //时间\n        date: [\n          moment()\n            .subtract(1, \"months\")\n            .format(\"YYYY-MM-DD\"),\n          moment().format(\"YYYY-MM-DD\")\n        ],\n        processCategoryList: [], //已选择 流程分类 数据\n        processList: [] //流程 数据\n      };\n      this.$refs.cascaderOrganize.$emit(\"refresh\"); // 刷新 公司、部门、项目组件\n    },\n    // 导出\n    exportList() {\n      let that = this;\n      if (this.model.processCategoryIDs === '' && this.model.processID === '') {\n        this.$message.warning('请选择流程分类或流程');\n        return;\n      }\n      loading.startLoading({\n        lock: true,\n        text: '加载中...',\n        background: 'rgba(255, 255, 255, 0.9)',\n        target: document.querySelector('.loadingtext')\n      });\n      that.$axios.post('/api/exportExcelForTable',  {'tableName':'审批操作基础数据表','params': that.model}, {responseType: 'blob'}).then((result) => {\n        const content = result.data;\n        const dowLoadFileName = '审批操作基础数据表';\n        util.exportSearchList(dowLoadFileName, content);\n        loading.endLoading();\n      }).catch((err) => {\n        loading.endLoading();\n        that.$message.error(`导出Excel失败!ERROR MESSAGE:${err}`);\n      });\n    },\n    // 获取报表结果请求数据\n    getResultList() {\n      let that = this;\n      if (this.model.companyID === '') {\n        this.$message.warning('请选择所属公司');\n        return;\n      }\n      if (this.model.processCategoryIDs === '' && this.model.processID === '') {\n        this.$message.warning('请选择流程分类或流程');\n        return;\n      }\n      if(!this.model.startDateFrom || !this.model.startDateTo){\n        this.$message.warning('请选择日期');\n        return\n      }\n      if (that.model.startDateFrom !== '' || that.model.startDateTo !== '') {\n        if(that.model.startDateFrom < '1753-01-01' || that.model.startDateTo < '1753-01-01') {\n          this.$message.warning('请选择1753-01-01 ~ 9999-12-31之间的日期');\n          // this.processform.date = [];\n          return;\n        }\n      }\n      loading.startLoading();\n      this.$axios.post(\"/api/ProcessOperation/page?pageIndex=\" + (this.pageIndex - 1) + \"&pageSize=\" + this.pageSize, this.model).then(res => {\n        loading.endLoading();\n          if (res.status === 200) {\n            this.tableData = res.data.processOperationList\n            this.total = res.data.pageControllerInfo.totalRecordCount\n          } else {\n            this.$message.error(\"请求失败！\");\n          }\n      }).catch(err => {\n        loading.endLoading();\n        this.$message.error(`查询列表数据失败!ERROR MESSAGE:${err}`);\n      });\n    },\n    //处理 流程数据\n    handleProcess(){\n      let processId = [];\n      let processName = [];\n      for (let node of this.processform.processList) {\n        processName.push(node.name);\n        processId.push(node.processId + \"\")\n      }\n      this.processName = processName.join(\"；\");\n      this.processIDs = processId.join(\",\");\n      return processId.join(\",\") || '';\n    },\n    //处理 流程分类数据\n    handleProcessCategory(){\n      let processCategoryIDs = []\n      let processCategoryName = []\n      for (let node of this.processform.processCategoryList) {\n          processCategoryName.push(node.name)\n          processCategoryIDs.push(node.id + \"\")\n      }\n      this.processCategoryName = processCategoryName.join(\"；\")\n      this.processCategoryIDs = processCategoryIDs.join(\",\")\n      return processCategoryIDs.join(\",\")||''\n    },\n    //处理查询条件数据\n    handleQueryParam(data){\n      let date = [];\n      if (data.date) {\n        for (let item of data.date) {\n          date.push(item);\n        }\n      }\n      this.model = {\n        url: \"127.0.0.1\", //主题页面url\n        port: \"3306\", //主题页面port\n        companyID: data.organize.orgID || '', //公司Id\n        startDateFrom: date[0], //开始时间\n        startDateTo: date[1], //结束时间\n        departmentID:data.department.id || '', //部门Id\n        projectID: data.projects.pc_ID || '', //项目Id\n        processCategoryIDs: this.handleProcessCategory(), //流程分类Id\n        processID: this.handleProcess() //流程Id\n      }\n    }\n  },\n  watch: {\n    processform:{\n       handler(val, old) {\n          // console.log(val,'processform');\n          this.handleQueryParam(val)\n       },\n      deep: true\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .table-popover {\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/report_form/approvalForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"staticReports loadingtext todoProcess \"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"staticReports minWidth\"},[_c('div',{staticClass:\"taticReports-content\"},[_c('el-row',{staticClass:\" staticReports-header \",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticClass:\"titleMT\",attrs:{\"span\":17}},[_c('span',{staticClass:\"mz\",on:{\"click\":function($event){_vm.$router.back(-1)}}},[_vm._v(\"流程报表\")]),_c('i',{staticClass:\"el-icon-arrow-down\"})]),_vm._v(\" \"),_c('el-col',{staticClass:\"titleBtn clearfix\",attrs:{\"span\":6}},[_c('el-button',{attrs:{\"round\":\"\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.refresh()}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.search()}}},[_vm._v(\"搜索\")])],1)],1)],1)])]),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"mainContaint\"},[_c('div',{staticClass:\"todoProcess-screenList screenList-box\",class:{screenList_box_ie:_vm.isIE}},[_c('el-row',[_c('el-col',{staticClass:\"report\",attrs:{\"span\":24}},[_c('span',[_vm._v(\"审批操作基础数据表\")])])],1),_vm._v(\" \"),_c('el-form',{ref:\"processform\",staticClass:\"todoForm\",attrs:{\"label-width\":\"100px\",\"size\":\"mini\"},model:{value:(_vm.processform),callback:function ($$v) {_vm.processform=$$v},expression:\"processform\"}},[_c('el-row',{attrs:{\"type\":\"\"}},[_c('CascaderOrganize',{ref:\"cascaderOrganize\",attrs:{\"isShowStar\":true,\"defaultFirst\":_vm.defaultFirst},on:{\"changeSetvaule\":_vm.changeSetvaule}})],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"发起时段\"}},[_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"14px\",\"float\":\"left\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"-10px\"}},[_vm._v(\"*\")]),_vm._v(\" \"),_c('div',{staticClass:\"money-box\"},[_c('el-form-item',[_c('el-date-picker',{staticClass:\"todoDate\",attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"clearable\":false,\"picker-options\":_vm.pickerOptionsBefore,\"placeholder\":\"选择日期\"},on:{\"focus\":_vm.hideDate},model:{value:(_vm.processform.date[0]),callback:function ($$v) {_vm.$set(_vm.processform.date, 0, $$v)},expression:\"processform.date[0]\"}})],1),_vm._v(\" \"),_c('el-form-item',[_vm._v(\"~\")]),_vm._v(\" \"),_c('el-form-item',[_c('el-date-picker',{staticClass:\"todoDate\",staticStyle:{\"float\":\"right\"},attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"clearable\":false,\"picker-options\":_vm.pickerOptionsAfter,\"placeholder\":\"选择日期\"},on:{\"focus\":_vm.hideDate},model:{value:(_vm.processform.date[1]),callback:function ($$v) {_vm.$set(_vm.processform.date, 1, $$v)},expression:\"processform.date[1]\"}})],1)],1)])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"流程分类\"}},[_c('span',{on:{\"dblclick\":function($event){_vm.openDailog('processClassification')}}},[_c('el-input',{staticClass:\"input-text\",attrs:{\"disabled\":\"\",\"placeholder\":\"请选择...\",\"title\":_vm.processCategoryName},model:{value:(_vm.processCategoryName),callback:function ($$v) {_vm.processCategoryName=$$v},expression:\"processCategoryName\"}})],1),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-category \",on:{\"click\":function($event){_vm.openDailog('processClassification')}}})])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"流程\"}},[_c('span',{on:{\"dblclick\":function($event){_vm.openDailog('processSelection')}}},[_c('el-input',{staticClass:\"input-text\",attrs:{\"disabled\":\"\",\"placeholder\":\"请选择...\",\"title\":_vm.processName},model:{value:(_vm.processName),callback:function ($$v) {_vm.processName=$$v},expression:\"processName\"}})],1),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-category \",on:{\"click\":function($event){_vm.openDailog('processSelection')}}})])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"todoProcess-main\"},[_c('el-row',{staticClass:\"listButton\",attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('el-button',{staticClass:\"upload\",attrs:{\"round\":\"\",\"type\":\"primary\",\"icon\":\"iconfont icon-export\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.exportList()}}},[_vm._v(\"导出\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('el-table',{ref:\"singleTable\",attrs:{\"height\":_vm.bodyHeight - 360,\"header-row-class-name\":_vm.tableHeaderClassName,\"border\":\"\",\"highlight-current-row\":\"\",\"data\":_vm.tableData,\"size\":\"mini\"},on:{\"sort-change\":_vm.sortChange}},[_c('el-table-column',{attrs:{\"prop\":\"userID\",\"min-width\":\"120px\",\"sortable\":\"custom\",\"label\":\"审批人账号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.userID}},[_vm._v(_vm._s(scope.row.userID))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"width\":\"110px\",\"sortable\":\"custom\",\"label\":\"审批人\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.userName}},[_vm._v(_vm._s(scope.row.userName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"processInstanceID\",\"width\":\"100px\",\"sortable\":\"custom\",\"label\":\"流程ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"categoryFullName\",\"width\":\"120px\",\"align\":\"left\",\"sortable\":\"custom\",\"label\":\"流程类别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.categoryFullName}},[_vm._v(_vm._s(scope.row.categoryFullName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"processName\",\"width\":\"80px\",\"sortable\":\"custom\",\"label\":\"流程\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.processName}},[_vm._v(_vm._s(scope.row.processName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"folio\",\"sortable\":\"custom\",\"width\":\"120px\",\"label\":\"流程主题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover folio\",attrs:{\"title\":scope.row.folio},on:{\"click\":function($event){_vm.jumpToOld(scope.row)}}},[_vm._v(_vm._s(scope.row.folio))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"amountOfMoney\",\"width\":\"100px\",\"sortable\":\"custom\",\"label\":\"金额\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"width\":\"120px\",\"sortable\":\"custom\",\"label\":\"部门名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.departmentName}},[_vm._v(_vm._s(scope.row.departmentName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"projectName\",\"sortable\":\"custom\",\"width\":\"100px\",\"label\":\"项目\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.projectName}},[_vm._v(_vm._s(scope.row.projectName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"startDate\",\"sortable\":\"custom\",\"width\":\"120px\",\"label\":\"发起时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.startDate}},[_vm._v(_vm._s(scope.row.startDate))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"acceptDate\",\"sortable\":\"custom\",\"width\":\"120px\",\"label\":\"接收时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.acceptDate}},[_vm._v(_vm._s(scope.row.acceptDate))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"custom\",\"prop\":\"approvalDate\",\"width\":\"135px\",\"label\":\"处理完成时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.approvalDate}},[_vm._v(_vm._s(scope.row.approvalDate))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totaltime\",\"sortable\":\"custom\",\"width\":\"120px\",\"label\":\"审批时长\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.totaltime}},[_vm._v(_vm._s(scope.row.totaltime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"activityName\",\"sortable\":\"custom\",\"width\":\"135px\",\"label\":\"审批步骤名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover\",attrs:{\"title\":scope.row.activityName}},[_vm._v(_vm._s(scope.row.activityName))])]}}])}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_c('p',[_vm._v(\"暂无数据\")])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"append\"},slot:\"append\"},[(_vm.tableData.length > 0)?_c('page',{attrs:{\"pageIndex\":_vm.pageIndex,\"total\":_vm.total,\"pageSize\":_vm.pageSize,\"pageSizesList\":_vm.pageSizesList},on:{\"handleSizeChange\":_vm.handleSizeChange,\"handleCurrentChange\":_vm.handleCurrentChange}}):_vm._e()],1)],1)],1)],1)],1)]),_vm._v(\" \"),(_vm.showdialog)?_c(_vm.componentParam.componentType,{tag:\"component\",attrs:{\"componentParam\":_vm.componentParam},on:{\"hideComponent\":_vm.hideComponent,\"sureSubmit\":_vm.showMsgfromchild}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-567a0522\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/report_form/approvalForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-567a0522\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./approvalForm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./approvalForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./approvalForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-567a0522\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./approvalForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-567a0522\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/report_form/approvalForm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}