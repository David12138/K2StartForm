{"version":3,"sources":["webpack:///src/components/views/draftProcess.vue","webpack:///./src/components/views/draftProcess.vue?3389","webpack:///./src/components/views/draftProcess.vue"],"names":["draftProcess","name","components","page","flowchart_dialog","mounted","that","this","util","burialPoint","getList","window","onmessage","e","data","key","model","whereParams","procInstIDs","comp","loading","company","pageIndex","total","pageSize","pageSizesList","draftList","showMess","rowData","applyReason","multipleSelections","exportData","orderBy","imgLoading","methods","sortChange","column","label","prop","order","replace","renderIcon","create","_ref","class","openDailog","type","component","showdialog","showDailog_mask","hideComponent","hiddenDailog_mask","deleteList","multipleSelection","undefined","$message","warning","correctmess","_this","formIds","i","length","push","FormId","$axios","post","then","result","code","message","$refs","multipleTable","clearSelection","catch","err","error","response","cancelmess","search","url","method","item","rowClick","row","event","hasOwnProperty","handleSizeChange","val","parseInt","localStorage","draftPageSize","handleCurrentChange","tableHeaderClassName","_ref2","rowIndex","handleSelectionChange","folioBlank","open","Url","computed","extends_default","bodyHeight","document","documentElement","clientHeight","Object","vuex_esm","views_draftProcess","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","element-loading-text","element-loading-background","_v","visible","id","title","close-on-click-modal","width","on","update:visible","$event","slot","icon","size","click","_e","justify","round","table_safari","isSafari","ref","staticStyle","font-size","height","border","header-row-class-name","sort-change","selection-change","row-click","align","min-width","scopedSlots","_u","fn","scope","ProcessName","_s","FormSubject","placement","disabled","Summary","color","effect","sortable","_f","SubmitDate","style","marginTop","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.53d0b50fadd5ae52eba6.js","sourcesContent":["<template>\n  <div class=\"draftProcess todoProcess loadingtext\"\n        v-loading=\"imgLoading\"\n        element-loading-text=\"加载中...\"\n        element-loading-background=\"rgba(255, 255, 255, 0.8)\">\n    <el-container>\n      <el-header>\n        <div class=\"top-header\">\n          <span class=\"top-breadCrumb\">流程草稿</span>\n          <div class=\"searchCom\">\n          </div>\n        </div>\n      </el-header>\n      <el-main>\n        <div class=\"mainContaint\">\n            <!--短信弹窗-->\n        <el-dialog :visible.sync=\"showMess\"\n                   id=\"delProcess\"\n                   title=\"申请删除草稿\"\n                   class=\"message-dialog\"\n                   :close-on-click-modal=\"false\"\n                   width=\"30%\"\n                   v-if=\"showMess\" >\n          <span class=\"dialog-bodys\">您确认需要删除所选草稿吗？</span>\n          <span slot=\"footer\" class=\"dialog-footer\">\n               <el-button type=\"primary\"  @click=\"correctmess\"   icon=\"el-icon-circle-check-outline\" size=\"mini\">确 定</el-button>\n               <el-button @click=\"cancelmess\"  icon=\"el-icon-circle-close-outline\" size=\"mini\">取 消</el-button>\n             </span>\n        </el-dialog>\n        <div class=\"draftProcess-main\">\n          <el-row type=\"flex\" justify=\"end\" class=\"listButton\">\n            <!--<el-button round @click=\"exportList\" class=\"upload\" type=\"primary\" icon=\"iconfont icon-export\" size=\"mini\">导出-->\n            <!--</el-button>-->\n            <el-button round @click=\"deleteList\"\n                       class=\"upload\"\n                       type=\"primary\"\n                       icon=\"el-icon-delete\"\n                       size=\"mini\">删除草稿\n            </el-button>\n          </el-row>\n          <div class=\"list\" :class=\"{table_safari:isSafari}\">\n            <el-table\n              :height=\"bodyHeight - 253\"\n              @sort-change=\"sortChange\"\n              :data=\"draftList\"\n              ref=\"multipleTable\"\n              border\n              :header-row-class-name=\"tableHeaderClassName\"\n              @selection-change=\"handleSelectionChange\"\n              @row-click=\"rowClick\"\n              size=\"mini\"\n              style=\"width: 100%; font-size: 14px;\">\n              <el-table-column\n                type=\"selection\">\n\n              </el-table-column>\n\n              <el-table-column\n                prop=\"ProcessName\"\n                align=\"center\"\n                label=\"流程名称\" min-width=\"80px\">\n                <template slot-scope=\"scope\">\n                  <div :title=\"scope.row.ProcessName\">{{ scope.row.ProcessName }}</div>\n                </template>\n              </el-table-column>\n\n              <el-table-column\n                prop=\"FormSubject\"\n                label=\"流程主题\"\n                class=\"table-folio\"\n                align=\"center\"\n                min-width=\"140px\">\n                <template slot-scope=\"scope\">\n                  <div class=\"table-popover folio\" @click=\"folioBlank(scope.row)\">{{ scope.row.FormSubject }}</div>\n                  <el-tooltip\n                    placement=\"right\"\n                    :disabled=\"scope.row.Summary?false:true\"\n                    color=\"rgb(166, 176, 185)\"\n                    effect=\"light\">\n                    <div slot=\"content\">\n                      <div class=\"toolTipContent\">\n                        <div>{{scope.row.Summary}}</div>\n                      </div>\n                    </div>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n\n              <el-table-column\n                prop=\"SaveDate\"\n                width=\"150px\"\n                label=\"保存时间\" sortable='custom'>\n                <template slot-scope=\"scope\">{{scope.row.SubmitDate | moment(\"YYYY-MM-DD HH:mm\")}}</template>\n              </el-table-column>\n\n              <div slot=\"empty\" v-show=\"!imgLoading\">\n                <p :style=\"{'marginTop': '23px'}\">暂无数据</p>\n              </div>\n              <div slot=\"append\">\n                <page v-if=\"draftList.length > 0\"\n                      :pageIndex=\"pageIndex\"\n                      :total=\"total\"\n                      :pageSize=\"pageSize\"\n                      :pageSizesList=\"pageSizesList\"\n                      @handleSizeChange=\"handleSizeChange\"\n                      @handleCurrentChange=\"handleCurrentChange\">\n                </page>\n              </div>\n            </el-table>\n          </div>\n        </div>\n        </div>\n\n      </el-main>\n    </el-container>\n\n  </div>\n</template>\n<script>\n  import {mapGetters} from 'vuex';\n  import moment from 'moment'\n  import util from '../../js/util';\n  import flowchartdialog from '../dailog/flowchart_dialog.vue'\n  import loading from '../../plugins/loading/loading';\n  import page from \"../../plugins/page/index\";\n  export default {\n    name: 'draftProcess',\n    components:{\n      page,\n      'flowchart_dialog': flowchartdialog,\n    },\n    /**\n     * 流程草稿界面的构造函数\n     */\n    mounted(){\n      //获取流程草稿列表数据\n      var that=this;\n      util.burialPoint('流程草稿-进入流程草稿页面');\n      that.getList();\n      window.onmessage = function (e) {\n        var data = e.data;\n        // 点击确认按钮的key\n        if (data.key === 'refreshNewSystem') {\n          that.getList();\n        }\n      };\n    },\n    data () {\n      return {\n        model : {\n          whereParams:{}\n        },\n        procInstIDs:[],\n        comp: {},\n        loading: false,\n        company: \"\",\n        pageIndex: 1,//当前页码\n        total: 10,//总的页码数\n        pageSize: 10,//页面显示的数据数量\n        pageSizesList: [10,20],//界面显示数据数量可选数组\n        draftList: [],//列表数据\n        showMess:false,//草稿箱弹窗显示隐藏\n        rowData: {},\n        applyReason:'',//存放原因\n        // pageIndex: 1,\n        multipleSelections: [],//选中复选框的个数数组\n        exportData:[] ,//导出数据\n        'orderBy':'StartDate DESC', //排序\n        imgLoading: false,\n      }\n    },\n    methods: {\n      //表格排序\n      sortChange(column){\n        util.burialPoint('流程草稿-列表-' + column.column.label + '排序');\n        this.orderBy = `${column.prop} ${column.order.replace('ending','')}`;\n        this.getList();\n      },\n      /**\n       * 设置表格列头\n       */\n      renderIcon(create, {column}) {\n        return create(\"i\",{ \"class\":\"iconfont icon-process\" });\n      },\n      /**\n       * 打开弹出框组件\n       */\n      openDailog(type) {\n        // 弹出框类型\n        this.comp.component = type;\n        this.showdialog = true;\n        util.showDailog_mask();//解决ie浏览器问题显示遮罩//动态变更弹出框组件\n      },\n      /**\n       * 关闭弹出框组件\n       */\n      hideComponent() {\n        this.showdialog = false;\n        util.hiddenDailog_mask();//解决ie浏览器问题 隐藏遮罩//动态变更弹出框组件\n      },\n\n//      /**\n//       * 导出\n//       */\n//      exportList() {\n//        util.burialPoint('流程草稿-操作-导出按钮');\n//        loading.startLoading({\n//          lock: true,\n//          text: '数据量过大，正在拼命加载中...',\n//          background: 'rgba(255, 255, 255, 0.9)',\n//          target: document.querySelector('.loadingtext')\n//        });\n//        var that = this;\n//        let obj = {\n//          'tableName':'流程草稿',\n//          'params':{\n//            'orderBy':this.orderBy,\n//            'fullUserID': util.getLocalStorage(\"loginname\") || ''\n//          }\n//        };\n//          that.$axios.post('/api/exportExcelForTable',  obj, {responseType: 'blob'}).then((result) => {\n//            const content = result.data;\n//            const dowLoadFileName = '流程草稿列表';\n//            util.exportSearchList(dowLoadFileName, content)\n//            loading.endLoading();\n//          }).catch((err) => {\n//            this.$message.error(`导出Excel失败!ERROR MESSAGE:${err}`);\n//            loading.endLoading();\n//          })\n//      },\n      /**\n       * 弹窗组件带出数据赋值给主组件\n       */\n      /**\n       * 点击删除流程按钮\n       */\n      deleteList() {\n        this.multipleSelections = this.multipleSelection;\n        if (this.multipleSelection==\"\"||this.multipleSelection==undefined) {\n          this.$message.warning('至少选中一条信息');\n        } else {\n          this.showMess = true;//草稿箱弹窗显示\n        }\n      },\n      // 点击删除流程的确定按钮删除成功并提示\n      correctmess(){\n        let that=this;\n        that.formIds=[];\n        for(var i=0;i<that.multipleSelections.length;i++){\n          that.formIds.push(that.multipleSelections[i].FormId)\n        }\n        that.$axios.post('Portal/WorkFlow/DeleteDraft',that.formIds).then(result=>{\n          if(result.data.code==200){\n            that.showMess = false;//删除流程弹窗显示隐藏\n            that.$message({\n              type: 'success',\n              message: '删除流程成功!',\n            });\n            that.$refs.multipleTable.clearSelection(); //删除成功后取消当前选中的这一项\n            that.getList()\n          }else{\n            that.showMess = false;//删除流程弹窗显示隐藏\n            that.$message.warning(this.FormId+'删除流程失败!');\n            that.$refs.multipleTable.clearSelection(); //删除成功后取消当前选中的这一项\n          }\n        }).catch((err)=>{\n          that.$message.error(`审批失败!ERROR MESSAGE:${err.response.data.message}`);\n        })\n      },\n      /**\n       * 点击删除流程按钮取消当前这一项并提示\n       */\n      cancelmess(){\n        this.showMess =false;//删除流程弹框\n        this.$refs.multipleTable.clearSelection(); //取消成功后取消当前选中的这一项\n      },\n\n      /**\n       * 查询方法\n       */\n      search() {\n        //页码重置\n        this.pageIndex=1;\n        //获取列表数据\n        this.getList();\n      },\n      /**\n       * 获取列表数据\n       */\n      getList() {\n        // loading.startLoading();\n        var that=this;\n        that.imgLoading = false;\n        let data = {\n           pageSize: this.pageSize,\n           pageIndex: this.pageIndex,\n           orderBy:this.orderBy\n        };\n        that.$axios({\n          url:'/Portal/WorkFlow/GetMyDrafts',\n          method:'post',\n          data:data\n        }).then((result) => {\n          if (result.data.code === 200) {\n            that.draftList = result.data.data.item;\n            that.total = result.data.data.total;\n          }else{\n            that.$message.error(\"请求失败！\");\n          }\n        }).catch((err) => {\n          // loading.endLoading();\n          that.imgLoading = false;\n          that.$message.error(`审批失败!ERROR MESSAGE:${err.response.data.message}`);\n        })\n      },\n      /**\n       * 点击 表格 行数据\n       */\n      rowClick(row, event, column) {\n        if (column.hasOwnProperty('label') && column.label === \"\") {\n          this.rowData = row;\n          this.openDailog('flowchart_dialog');\n        }\n      },\n      /**\n       * 页面size变更方法\n       */\n      handleSizeChange(val) {// 结果是 20或50或100   val代码当前页面以20或50或100条数据显示\n        util.burialPoint('流程草稿-列表-每页显示条数按钮');\n        var likeThis = this;\n        var pageSize = `${val}`;\n        likeThis.pageIndex = 1;\n        likeThis.pageSize = parseInt(pageSize);\n        localStorage.draftPageSize = val;\n        likeThis.getList();\n      },\n      /**\n       * 翻页方法\n       */\n      handleCurrentChange(val) {//pageSize:20  显示的是点击的pageSize的大小\n        util.burialPoint('流程草稿-列表-页码按钮');\n        this.pageIndex = val;\n        this.getList()\n      },\n      /**\n       *设置表头标题class\n       */\n      tableHeaderClassName({row, rowIndex}) {\n        return \"table-head-th\";\n      },\n      /**\n       *全选\n       */\n      handleSelectionChange(val) {\n        this.multipleSelection = val;\n      },\n      //流程单号跳转\n      folioBlank(row){\n        window.open(row.Url,'_blank');\n      }\n    },\n    computed: {\n      bodyHeight() {\n        return document.documentElement.clientHeight\n      },\n      ...mapGetters(['count','isSafari', 'bodyHeight'])\n    }\n  }\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  .pl {\n    text-align: left;\n    padding-bottom: 15px;\n  }\n  .draftProcess {\n    .el-header {\n      padding: 10px 10px 0;\n      text-align: left;\n      .draftProcess-header {\n        height: 50px;\n        line-height: 50px;\n        background: #ffffff;\n        border-radius: 5px;\n        padding-left: 20px;\n        position: relative;\n        .draftProcess-breadCrumb {\n          font-size: 16px;\n        }\n        .searchCom {\n          width: 400px;\n          height: 40px;\n          line-height: 40px;\n          position: absolute;\n          right: 0;\n          top: 5px;\n          // background: red;\n          .inputCom {\n            position: absolute;\n            right: 220px;\n            width: 300px;\n            // height: 30px;\n            // line-height: 30px;\n          }\n          .searchBtn {\n            position: absolute;\n            top: 5px;\n            right: 130px;\n          }\n          .searchMore {\n            position: absolute;\n            top: 5px;\n            right: 20px;\n          }\n        }\n      }\n    }\n    .el-main {\n      // padding: 5px 10px 5px;\n      padding: 0;\n      .mainContaint {\n         padding: 5px 10px 5px;\n        background-color: #ffffff;\n      }\n      .draftProcess-main {\n        background: #fff;\n        border-radius: 5px;\n        padding: 10px 20px 20px;\n        margin-top: 5px;\n\n        .listButton {\n          text-align: left;\n          margin-bottom: 10px;\n          button {\n            // font-size: 20px;\n          }\n        }\n      }\n      .draftProcess-screenList {\n        background: #ffffff;\n        padding: 10px 10px 0 10px;\n        border-radius: 5px;\n        .todoForm {\n          .el-form-item.draftProcess-money.el-form-item--mini {\n            margin-bottom: 0 !important;\n          }\n        }\n        .el-form-item {\n          float: left;\n        }\n        .el-form-item.draftProcess-money.el-form-item--mini {\n          margin-bottom: 0;\n          margin-top: 0;\n        }\n        .el-form-item .el-select {\n          width: 130%;\n        }\n      }\n    }\n  }\n  .list{\n    a{\n      cursor: pointer;\n    }\n    a:hover{\n      text-decoration: underline;\n      color: #00a1f1;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/draftProcess.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imgLoading),expression:\"imgLoading\"}],staticClass:\"draftProcess todoProcess loadingtext\",attrs:{\"element-loading-text\":\"加载中...\",\"element-loading-background\":\"rgba(255, 255, 255, 0.8)\"}},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"top-header\"},[_c('span',{staticClass:\"top-breadCrumb\"},[_vm._v(\"流程草稿\")]),_vm._v(\" \"),_c('div',{staticClass:\"searchCom\"})])]),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"mainContaint\"},[(_vm.showMess)?_c('el-dialog',{staticClass:\"message-dialog\",attrs:{\"visible\":_vm.showMess,\"id\":\"delProcess\",\"title\":\"申请删除草稿\",\"close-on-click-modal\":false,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.showMess=$event}}},[_c('span',{staticClass:\"dialog-bodys\"},[_vm._v(\"您确认需要删除所选草稿吗？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-check-outline\",\"size\":\"mini\"},on:{\"click\":_vm.correctmess}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-circle-close-outline\",\"size\":\"mini\"},on:{\"click\":_vm.cancelmess}},[_vm._v(\"取 消\")])],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"draftProcess-main\"},[_c('el-row',{staticClass:\"listButton\",attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('el-button',{staticClass:\"upload\",attrs:{\"round\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":_vm.deleteList}},[_vm._v(\"删除草稿\\n          \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"list\",class:{table_safari:_vm.isSafari}},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\",\"font-size\":\"14px\"},attrs:{\"height\":_vm.bodyHeight - 253,\"data\":_vm.draftList,\"border\":\"\",\"header-row-class-name\":_vm.tableHeaderClassName,\"size\":\"mini\"},on:{\"sort-change\":_vm.sortChange,\"selection-change\":_vm.handleSelectionChange,\"row-click\":_vm.rowClick}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ProcessName\",\"align\":\"center\",\"label\":\"流程名称\",\"min-width\":\"80px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{attrs:{\"title\":scope.row.ProcessName}},[_vm._v(_vm._s(scope.row.ProcessName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"table-folio\",attrs:{\"prop\":\"FormSubject\",\"label\":\"流程主题\",\"align\":\"center\",\"min-width\":\"140px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"table-popover folio\",on:{\"click\":function($event){_vm.folioBlank(scope.row)}}},[_vm._v(_vm._s(scope.row.FormSubject))]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"placement\":\"right\",\"disabled\":scope.row.Summary?false:true,\"color\":\"rgb(166, 176, 185)\",\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',{staticClass:\"toolTipContent\"},[_c('div',[_vm._v(_vm._s(scope.row.Summary))])])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"SaveDate\",\"width\":\"150px\",\"label\":\"保存时间\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"moment\")(scope.row.SubmitDate,\"YYYY-MM-DD HH:mm\")))]}}])}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.imgLoading),expression:\"!imgLoading\"}],attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_c('p',{style:({'marginTop': '23px'})},[_vm._v(\"暂无数据\")])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"append\"},slot:\"append\"},[(_vm.draftList.length > 0)?_c('page',{attrs:{\"pageIndex\":_vm.pageIndex,\"total\":_vm.total,\"pageSize\":_vm.pageSize,\"pageSizesList\":_vm.pageSizesList},on:{\"handleSizeChange\":_vm.handleSizeChange,\"handleCurrentChange\":_vm.handleCurrentChange}}):_vm._e()],1)],1)],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fada695\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/draftProcess.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fada695\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./draftProcess.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./draftProcess.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./draftProcess.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fada695\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./draftProcess.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fada695\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/draftProcess.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}