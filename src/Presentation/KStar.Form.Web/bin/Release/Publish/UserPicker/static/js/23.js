webpackJsonp([23],{685:function(e,t,i){"use strict";var s={name:"page",props:{pageIndex:{type:Number,default:1,required:!0},pageSize:{type:Number,default:1,required:!0},total:{type:Number,default:0,required:!0},pageSizesList:{type:Array,required:!0}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},firstPage:function(){this.pageIndex=1},tailPage:function(){this.pageIndex=this.$refs.page.internalPageCount}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[i("el-pagination",{ref:"page",attrs:{background:"","current-page":e.pageIndex,"page-sizes":e.pageSizesList,"page-size":e.pageSize,"prev-text":e.$t("UserPicker.HomePage"),"next-text":e.$t("UserPicker.TailPage"),layout:"total, prev, pager, next, sizes",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"prev-click":e.firstPage,"next-click":e.tailPage}})],1)},staticRenderFns:[]};var r=i(47)(s,a,!1,function(e){i(687)},"data-v-18a42a56",null).exports;t.a=r},687:function(e,t){},688:function(e,t,i){"use strict";var s,a=i(360),r=i.n(a),n=i(163),o=i.n(n),c=i(160),l=i.n(c),d=i(357),h=i(67),p={name:"",props:{componentParam:{componentType:{type:String,required:!0},childDataUrl:{type:Object,required:!0},backfillData:{type:Array,default:new Array,required:!0},assemblyParam:{type:Object,required:!0},checkProcess:{type:Boolean,default:!1,required:!0},oneCheck:{type:Boolean,default:!1,required:!0},closeShow:{type:Boolean,default:!0,required:!0},type:Object,required:!0}},mounted:function(){if(this.componentParam.backfillData.length>0){var e=!0,t=!1,i=void 0;try{for(var s,a=l()(this.componentParam.backfillData);!(e=(s=a.next()).done);e=!0){var r=s.value;this.selectedCities.push(r)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}}},data:function(){return{checkedCities:[],selectedCities:[],processName:"",organizeProcessName:"",organName:"",selectOrgs:[],isActive:!1,checkAll:!1,cities:[],treeSearch:"",treeList:[],rootNode:{},defaultProps:{id:"id",children:"Child",label:"name"},tooltiprocessName:"",defaultKeys:[],currentId:"",isIndeterminate:!1,props:{label:"orgName",value:"orgID",children:"m_ChildOrg"},organizeList:[],activeOrganizeName:[],organizeName:"",organize:{orgID:""},imgLoading:!1}},watch:{treeSearch:function(e){this.debouncedSearchTree()}},created:function(e){var t=this;t.debouncedSearchTree=Object(d.debounce)(t.searchTree,2e3),t.debouncedGetProcess=Object(d.debounce)(t.getProcess,200,e),t.imgLoading=!0,o.a.all([t.getOrganizeList(),t.getUserOrganize()]).then(function(e){if(e[0]){t.organize.orgID=e[1]||t.organizeList[0].orgID;var i=t.$refs.orgtree.getNode(t.organize.orgID);i&&(t.$refs.orgtree.setCurrentKey(t.organize.orgID),t.setOrganize(i)),t.getCategoryOfOrganize(t.organize.orgID).then(function(){t.imgLoading=!1})}}).catch(function(e){t.imgLoading=!1,t.$message.error(e)})},methods:(s={selectTreeClick:function(e,t){var i=this;this.processName="",this.tooltiprocessName="",i.$refs.selectTree.visible=!1,i.organize=e,i.setOrganize(t),i.imgLoading=!0,i.getCategoryOfOrganize(e.orgID).then(function(){i.imgLoading=!1}),i.cities=[],i.checkAll=!1,i.isIndeterminate=!1},setOrganize:function(e){this.activeOrganizeName=[],this.getOrgPrarentNode(e),this.organizeName=this.activeOrganizeName.reverse().join("/"),this.organizeProcessName=this.activeOrganizeName.join(">")+">"},getUserOrganize:function(){var e=this;return new o.a(function(t,i){e.$axios.post("/api/getorg",{}).then(function(e){if(e.data.getOrgList.length>0){var i=e.data.getOrgList[0].orgid;t(i)}else t(null)}).catch(function(e){i("获取用户所在部门失败!ERROR MESSAGE:"+e)})})},getOrganizeList:function(){var e=this;return new o.a(function(t,i){e.$axios.post("/api/companytree/page",{}).then(function(i){i.data.companyTreeList.length>0?(e.organizeList=i.data.companyTreeList,t(!0)):t(!1)}).catch(function(e){i("获取组织数据失败!ERROR MESSAGE:"+e)})})},getCategoryOfOrganize:function(e){var t=this,i={orgId:e,isUse:1,name:t.treeSearch.trim(),isHide:1,isDailog:"1"};return new o.a(function(e,s){t.$axios.post("/api/processCategory",i).then(function(i){if(0==i.data.result.length)t.treeList=[];else{for(var s=h.a.toTree(i.data.result,"id","pid","Child"),a=0;a<s.length;a++)0!=s[a].pid&&(s.splice(a,1),a--);t.treeList=s}e(!0)}).catch(function(e){s("查询列表数据失败!ERROR MESSAGE:"+e)})})},getOrgPrarentNode:function(e){void 0!=e.data.orgName&&this.activeOrganizeName.push(e.data.orgName),void 0!=e.parent&&this.getOrgPrarentNode(e.parent)},enterSearch:function(){this.defaultKeys=[],this.debouncedSearchTree()},searchTree:function(){var e=this;if(e.defaultKeys=[],""==e.treeSearch.trim())return e.imgLoading=!0,void e.getCategoryOfOrganize(e.organize.orgID).then(function(){e.imgLoading=!1});""!=e.organize.orgID?e.searchProcessCategory():e.$message.warning("请先选择组织进行搜索！")},searchProcessCategory:function(){var e=this;e.treeList.splice(0,e.treeList.length),e.cities.splice(0,e.cities.length),e.checkAll=!1,e.isIndeterminate=!1;var t={isCategory:"",isDailog:1,isHide:1,isUse:1,name:e.treeSearch.trim(),id:"",orgId:e.organize.orgID};e.imgLoading=!0,e.$axios.post("/api/processCategoryTree",t).then(function(t){if(0==t.data.result.length)e.treeList=[];else{var i=h.a.toTree(t.data.result,"id","pid","Child");e.treeList=i,e.getdefaultKeys(i)}e.imgLoading=!1}).catch(function(t){e.imgLoading=!1,e.$message.error("搜索组织流程失败！"+t)})},getProcess:function(e){if(e){var t=this,i=t.getSelectProcessId(t.selectedCities),s={isCategory:"0",isDailog:1,isHide:1,isUse:1,name:"",id:e.data.id,orgId:t.organize.orgID};t.imgLoading=!0,t.$axios.post("/api/processCategoryTree",s).then(function(e){t.displayProcess(e.data.result,i),t.imgLoading=!1}).catch(function(e){t.imgLoading=!1,t.$message.error("连接服务器失败！"+e)})}},handleNodeClick:function(e,t){if(0==this.treeSearch.trim().length)this.debouncedGetProcess(t);else if(this.treeSearch.trim().length>0){var i=this.getSelectProcessId(this.selectedCities),s=[];e.Child?s=e.Child:s.push(e),this.displayProcess(s,i)}this.selectOrgs=[],this.getPrarentNode(t),this.disposeOrganName(e.name)},getdefaultKeys:function(e){var t=!0,i=!1,s=void 0;try{for(var a,r=l()(e);!(t=(a=r.next()).done);t=!0){var n=a.value;n.hasOwnProperty("Child")&&n.Child.length>0&&(this.defaultKeys.push(n.id),this.getdefaultKeys(n.Child))}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}},displayProcess:function(e,t){this.cities.splice(0,this.cities.length),this.checkedCities=[],this.checkAll=!1,this.isIndeterminate=!1;var i=!0,s=!1,a=void 0;try{for(var r,n=l()(e);!(i=(r=n.next()).done);i=!0){var o=r.value;o.processId&&"0"!==o.processId&&null!==o.processId&&(t.indexOf(o.processId)>-1&&this.checkedCities.push(o),this.cities.push(o))}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}var c=this.getId(this.cities),d=0,h=!0,p=!1,g=void 0;try{for(var u,m=l()(this.checkedCities);!(h=(u=m.next()).done);h=!0){var f=u.value;-1!==c.indexOf(f.id)&&d++}}catch(e){p=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(p)throw g}}this.checkAll=d>0&&d===this.cities.length,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length},dblclickCheckedCitie:function(e){this.clickDepartment(e),this.$emit("sureSubmit",{type:this.componentParam.componentType,list:this.selectedCities})},clickDepartment:function(e){this.selectedCities.splice(0,this.selectedCities.length),this.selectedCities.push(e),this.checkedCities.splice(0,this.checkedCities.length),this.checkedCities.push(e);var t=this.$refs.processTree.getNode(e.pid);this.selectOrgs=[],this.getPrarentNode(t),e.tooltiprocessName=this.disposeOrganName(e.name)},handleCheckAllChange:function(e){this.checkedCities=[];var t=this.getSelectProcessId(this.selectedCities);if(e){var i=!0,s=!1,a=void 0;try{for(var r,n=l()(this.cities);!(i=(r=n.next()).done);i=!0){var o=r.value;-1===t.indexOf(o.processId)&&this.selectedCities.push(o),this.checkedCities.push(o)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.checkAll=!0,this.isIndeterminate=!1}else{var c=!0,d=!1,h=void 0;try{for(var p,g=l()(this.cities);!(c=(p=g.next()).done);c=!0){var u=p.value;if(t.indexOf(u.processId)>-1){var m=-1;for(var f in this.selectedCities)this.selectedCities[f].processId==u.processId&&(m=f);-1!=m&&this.selectedCities.splice(m,1)}}}catch(e){d=!0,h=e}finally{try{!c&&g.return&&g.return()}finally{if(d)throw h}}this.checkAll=!1,this.isIndeterminate=!1}},handleCheckedCitiesChange:function(e){this.isIndeterminate=!1;var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=l()(this.selectedCities);!(i=(r=n.next()).done);i=!0){var o=r.value;t.push(o)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.selectedCities.splice(0,this.selectedCities.length);var c=this.getId(this.cities),d=[];for(var h in t)-1==c.indexOf(t[h].id)&&d.push(t[h]);this.selectedCities=d;var p=[],g=!0,u=!1,m=void 0;try{for(var f,v=l()(e);!(g=(f=v.next()).done);g=!0){var C=f.value;p.tooltiprocessName=this.disposeOrganName(C.name)}}catch(e){u=!0,m=e}finally{try{!g&&v.return&&v.return()}finally{if(u)throw m}}var y=this.getSelectProcessId(this.selectedCities),k=!0,b=!1,x=void 0;try{for(var D,_=l()(e);!(k=(D=_.next()).done);k=!0){var S=D.value;-1===y.indexOf(S.processId)&&this.selectedCities.push(S)}}catch(e){b=!0,x=e}finally{try{!k&&_.return&&_.return()}finally{if(b)throw x}}var w=0,I=!0,N=!1,z=void 0;try{for(var O,L=l()(e);!(I=(O=L.next()).done);I=!0){var P=O.value;-1!==c.indexOf(P.id)&&w++}}catch(e){N=!0,z=e}finally{try{!I&&L.return&&L.return()}finally{if(N)throw z}}this.checkedCities=e,this.checkAll=w===this.cities.length,this.isIndeterminate=w>0&&w<this.cities.length},pullBtnHeightChange:function(){this.isActive=!this.isActive},sureSubmit:function(){this.$emit("sureSubmit",{type:this.componentParam.componentType,list:this.selectedCities})},getSelectProcessId:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=l()(e);!(i=(r=n.next()).done);i=!0){var o=r.value;t.push(o.processId)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t},getId:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=l()(e);!(i=(r=n.next()).done);i=!0){var o=r.value;t.push(o.id)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t}},r()(s,"pullBtnHeightChange",function(){this.isActive=!this.isActive}),r()(s,"close",function(){this.$emit("hideComponent")}),r()(s,"deleteDept",function(e){for(var t in this.checkAll=!1,this.isIndeterminate=!1,this.checkedCities)this.checkedCities[t].id==this.selectedCities[e].id&&this.checkedCities.splice(t,1);this.selectedCities.splice(e,1),this.checkAll=this.checkedCities.length===this.cities.length&&this.cities.length>0,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length}),r()(s,"clearDept",function(){this.checkedCities.splice(0,this.checkedCities.length),this.selectedCities.splice(0,this.selectedCities.length),this.checkAll=!1,this.isIndeterminate=!1}),r()(s,"disposeOrganName",function(e){var t="",i=!0,s=!1,a=void 0;try{for(var r,n=l()(this.selectOrgs);!(i=(r=n.next()).done);i=!0){t+=r.value.text+" > "}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t=(t=t.trim()).substr(0,t.length-1),this.tooltiprocessName=t,t.length>30?this.processName=t.substr(0,30)+"...":this.processName=t,t}),r()(s,"getPrarentNode",function(e){e&&(e.data&&void 0!=e.data.name&&this.selectOrgs.unshift({text:""+e.data.name,petId:""+e.data.id,PID:""+e.data.pid}),void 0!=e.parent&&this.getPrarentNode(e.parent))}),s)},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"originater_dialog newProcess_dialog"},[i("div",{class:[e.componentParam.closeShow?"pc-candidates":"pc-candidates pc-background"]},[i("div",{staticClass:"dialog_content"},[i("el-main",{staticStyle:{position:"relative"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.componentParam.closeShow,expression:"!componentParam.closeShow"}],staticClass:"top"},[e._v("流程选择\n          "),i("span",{staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:e.close}},[e._v("×")])]),e._v(" "),i("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],attrs:{type:"card","element-loading-text":"加载中...","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("el-tab-pane",{staticClass:"candidates-recently"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont icon-todos"}),e._v(" 流程")]),e._v(" "),i("div",{staticClass:"title  title-border"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right",title:e.organizeProcessName+e.tooltiprocessName}},[i("el-breadcrumb-item",[e._v("流程选择")]),e._v(" "),i("el-breadcrumb-item",{staticStyle:{overflow:"hidden","-ms-text-overflow":"ellipsis","text-overflow":"ellipsis","white-space":"nowrap",width:"300px",display:"inline-block"}},[e._v(e._s(e.organizeProcessName)+e._s(e.processName))])],1),e._v(" "),i("span",{staticClass:"rightInput"},[i("el-input",{attrs:{placeholder:"请输入流程关键字","prefix-icon":"el-icon-search",size:"mini"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterSearch(t):null}},model:{value:e.treeSearch,callback:function(t){e.treeSearch=t},expression:"treeSearch"}})],1)],1),e._v(" "),i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"content-left",staticStyle:{position:"relative"}},[i("div",{staticClass:"title"},[i("el-form",{staticClass:"demo-form-inline init-organize-box",staticStyle:{width:"100%"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:""}},[i("el-select",{ref:"selectTree",staticStyle:{width:"100%"},attrs:{placeholder:"组织","popper-class":"tree-list-box"},model:{value:e.organizeName,callback:function(t){e.organizeName=t},expression:"organizeName"}},[i("el-option",{staticStyle:{height:"auto",padding:"0px 0px"},attrs:{value:"",disabled:!0}},[i("div",[i("el-tree",{ref:"orgtree",attrs:{data:e.organizeList,"highlight-current":!0,"node-key":"orgID","default-expand-all":"","expand-on-click-node":!1,"empty-text":"暂无数据",props:e.props},on:{"node-click":e.selectTreeClick}})],1)])],1)],1)],1)],1),e._v(" "),e.treeList.length>0?i("el-tree",{ref:"processTree",attrs:{data:e.treeList,"node-key":"id","highlight-current":!0,props:e.defaultProps,"empty-text":"","expand-on-click-node":!1,"default-expanded-keys":e.defaultKeys},on:{"node-click":e.handleNodeClick}}):e._e(),e._v(" "),0===e.treeList.length?i("div",{staticStyle:{position:"absolute",top:"50%",left:"50%","-webkit-transform":"translate(-50%, -50%)","-moz-transform":"translate(-50%, -50%)","-ms-transform":"translate(-50%, -50%)","-o-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"}},[e._v("\n                  暂无数据\n                ")]):e._e()],1),e._v(" "),i("div",{staticClass:"content-right",staticStyle:{position:"relative"}},[e.componentParam.oneCheck?e._e():i("el-checkbox",{staticStyle:{"padding-top":"6px","padding-left":"20px"},attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n                ")]),e._v(" "),e.componentParam.oneCheck?i("el-checkbox-group",{staticClass:"theRadio",model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox-button",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body",on:{click:function(i){e.clickDepartment(t)},dblclick:function(i){e.dblclickCheckedCitie(t)}}},[i("h4",{staticClass:"media-heading iconfont icon-process1",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])})):i("el-checkbox-group",{staticClass:"mut-check",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])})),e._v(" "),0===e.cities.length?i("div",{staticStyle:{position:"absolute",top:"50%",left:"50%","-webkit-transform":"translate(-50%, -50%)","-moz-transform":"translate(-50%, -50%)","-ms-transform":"translate(-50%, -50%)","-o-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"}},[e._v("\n                  暂无数据\n                ")]):e._e()],1)]),e._v(" "),i("div",{staticClass:"addrecently-box",class:{pullup:e.isActive}},[i("div",{staticClass:"addrecently"},[i("div",{staticClass:"media"},[i("div",{staticClass:"pull",on:{click:e.pullBtnHeightChange}}),e._v(" "),i("ul",{staticClass:"clearfix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedCities.length>0,expression:"selectedCities.length>0"}],staticClass:"clearBtn",on:{click:e.clearDept}}),e._v(" "),e._l(e.selectedCities,function(t,s){return i("li",{key:s},[i("div",{staticClass:"media-body"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.deleteDept(s)}}}),e._v(" "),i("span",{staticClass:"media-heading"},[e._v(e._s(t.name))])])])})],2)])])]),e._v(" "),i("div",{staticClass:"addrecently-footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline",size:"mini"},on:{click:e.sureSubmit}},[e._v("确定\n              ")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",size:"mini"},on:{click:e.close}},[e._v("取消")])],1)])],1)],1)],1)])])},staticRenderFns:[]};var u=i(47)(p,g,!1,function(e){i(689)},"data-v-2617991c",null);t.a=u.exports},689:function(e,t){},690:function(e,t,i){"use strict";var s,a=i(360),r=i.n(a),n=i(160),o=i.n(n),c=i(163),l=i.n(c),d=(i(357),i(67)),h={name:"processClassification",props:{componentParam:{componentType:{type:String,required:!0},backfillData:{type:Array,default:new Array,required:!0},oneCheck:{type:Boolean,default:!1,required:!0},closeShow:{type:Boolean,default:!0,required:!0},type:Object,required:!0}},data:function(){return{tooltipclassificationName:"",classificationName:"",treeSearch:"",treeList:[],defaultKeys:[],defaultProps:{id:"id",children:"Child",label:"name"},checkedCities:[],selectedCities:[],selectOrgs:[],isActive:!1,checkAll:!1,isIndeterminate:!1,cities:[],currentId:"",rootNode:{},oldtime:0,props:{label:"orgName",value:"orgID",children:"m_ChildOrg"},organizeList:[],activeOrganizeName:[],organizeName:"",organize:{orgID:""},imgLoading:!1}},watch:{treeSearch:function(e){this.$refs.classificationTree.filter(e.trim())}},created:function(e){var t=this;t.imgLoading=!0,l.a.all([t.getOrganizeList(),t.getUserOrganize()]).then(function(e){if(e[0]){t.organize.orgID=e[1]||t.organizeList[0].orgID;var i=t.$refs.orgtree.getNode(t.organize.orgID);i&&(t.$refs.orgtree.setCurrentKey(t.organize.orgID),t.setOrganize(i)),t.getCategoryOfOrganize(t.organize.orgID).then(function(){t.imgLoading=!1})}}).catch(function(e){t.imgLoading=!1,t.$message.error(e)})},mounted:function(){if(this.componentParam.backfillData.length>0){var e=!0,t=!1,i=void 0;try{for(var s,a=o()(this.componentParam.backfillData);!(e=(s=a.next()).done);e=!0){var r=s.value;this.selectedCities.push(r)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}}},methods:(s={selectTreeClick:function(e,t){var i=this;i.$refs.selectTree.visible=!1,i.organize=e,i.setOrganize(t),i.imgLoading=!0,i.getCategoryOfOrganize(e.orgID).then(function(){i.imgLoading=!1}),i.cities=[],i.checkAll=!1,i.isIndeterminate=!1},setOrganize:function(e){this.activeOrganizeName=[],this.getOrgPrarentNode(e),this.organizeName=this.activeOrganizeName.reverse().join("/")},getUserOrganize:function(){var e=this;return new l.a(function(t,i){e.$axios.post("/api/getorg",{}).then(function(e){if(e.data.getOrgList.length>0){var i=e.data.getOrgList[0].orgid;t(i)}else t(null)}).catch(function(e){i("获取用户所在部门失败!ERROR MESSAGE:"+e)})})},getOrganizeList:function(){var e=this;return new l.a(function(t,i){e.$axios.post("/api/companytree/page",{}).then(function(i){i.data.companyTreeList.length>0?(e.organizeList=i.data.companyTreeList,t(!0)):t(!1)}).catch(function(e){i("获取组织数据失败!ERROR MESSAGE:"+e)})})},getCategoryOfOrganize:function(e){var t=this,i={orgId:e,isUse:1,name:t.treeSearch,isHide:1,isDailog:"1"};return new l.a(function(e,s){t.$axios.post("/api/processCategory",i).then(function(i){if(0==i.data.result.length)t.$message.success("暂无数据"),t.treeList=[];else{for(var s=d.a.toTree(i.data.result,"id","pid","Child"),a=0;a<s.length;a++)0!=s[a].pid&&(s.splice(a,1),a--);t.treeList=s}e(!0)}).catch(function(e){s("查询列表数据失败!ERROR MESSAGE:"+e)})})},getOrgPrarentNode:function(e){void 0!=e.data.orgName&&this.activeOrganizeName.push(e.data.orgName),void 0!=e.parent&&this.getOrgPrarentNode(e.parent)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e,t){var i=this,s=(new Date).getTime();if(i.oldtime&&i.rootNode&&(s-i.oldtime<500&&i.rootNode.id==t.id))return i.clickDepartment(e),i.getChildNode(t.data.Child),void setTimeout(function(){i.$emit("sureSubmit",{type:i.componentParam.componentType,list:i.selectedCities})},300);i.oldtime=s,i.rootNode=t,i.displayContents(t.data),i.selectOrgs=[],i.getPrarentNode(t),i.disposeOrganName(e.name)},displayContents:function(e){var t=this.getId(this.selectedCities);if(this.cities=[],this.checkedCities=[],this.checkAll=!1,this.isIndeterminate=!1,e.hasOwnProperty("Child")){var i=!0,s=!1,a=void 0;try{for(var r,n=o()(e.Child);!(i=(r=n.next()).done);i=!0){var c=r.value;this.cities.push(c)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}var l=!0,d=!1,h=void 0;try{for(var p,g=o()(e.Child);!(l=(p=g.next()).done);l=!0){c=p.value;t.indexOf(c.id)>-1&&this.checkedCities.push(c)}}catch(e){d=!0,h=e}finally{try{!l&&g.return&&g.return()}finally{if(d)throw h}}}else t.indexOf(e.id)>-1&&this.checkedCities.push(e),this.cities.push(e);var u=this.getId(this.cities),m=0,f=!0,v=!1,C=void 0;try{for(var y,k=o()(this.checkedCities);!(f=(y=k.next()).done);f=!0){var b=y.value;-1!==u.indexOf(b.id)&&m++}}catch(e){v=!0,C=e}finally{try{!f&&k.return&&k.return()}finally{if(v)throw C}}this.checkAll=m>0&&m===this.cities.length,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length},dblclickCheckedCitie:function(e){this.clickDepartment(e),this.$emit("sureSubmit",{type:"new_process_dialog",list:this.selectedCities})},clickDepartment:function(e){this.selectedCities.splice(0,this.selectedCities.length),this.selectedCities.push(e),this.checkedCities.splice(0,this.checkedCities.length),this.checkedCities.push(e);var t=this.$refs.classificationTree.getNode(e.pid);this.selectOrgs=[],this.getPrarentNode(t),e.tooltipclassificationName=this.disposeOrganName(e.name)},handleCheckAllChange:function(e){var t=this.getId(this.selectedCities);if(this.checkedCities=[],e){var i=!0,s=!1,a=void 0;try{for(var r,n=o()(this.cities);!(i=(r=n.next()).done);i=!0){var c=r.value;-1===t.indexOf(c.id)&&this.selectedCities.push(c),this.checkedCities.push(c)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.checkAll=!0,this.isIndeterminate=!1}else{var l=!0,d=!1,h=void 0;try{for(var p,g=o()(this.cities);!(l=(p=g.next()).done);l=!0){c=p.value;if(t.indexOf(c.id)>-1){var u=-1;for(var m in this.selectedCities)this.selectedCities[m].id==c.id&&(u=m);-1!=u&&this.selectedCities.splice(u,1)}}}catch(e){d=!0,h=e}finally{try{!l&&g.return&&g.return()}finally{if(d)throw h}}this.checkAll=!1,this.isIndeterminate=!1}},handleCheckedCitiesChange:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=o()(this.selectedCities);!(i=(r=n.next()).done);i=!0){var c=r.value;t.push(c)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.selectedCities.splice(0,this.selectedCities.length);var l=this.getId(this.cities),d=[];for(var h in t)-1==l.indexOf(t[h].id)&&(d.push(t[h]),D++);this.selectedCities=d;c=[];var p=!0,g=!1,u=void 0;try{for(var m,f=o()(e);!(p=(m=f.next()).done);p=!0){h=m.value;c.tooltipclassificationName=this.disposeOrganName(h.name)}}catch(e){g=!0,u=e}finally{try{!p&&f.return&&f.return()}finally{if(g)throw u}}var v=this.getId(this.selectedCities),C=!0,y=!1,k=void 0;try{for(var b,x=o()(e);!(C=(b=x.next()).done);C=!0){h=b.value;-1===v.indexOf(h.id)&&this.selectedCities.push(h)}}catch(e){y=!0,k=e}finally{try{!C&&x.return&&x.return()}finally{if(y)throw k}}var D=0,_=!0,S=!1,w=void 0;try{for(var I,N=o()(e);!(_=(I=N.next()).done);_=!0){var z=I.value;-1!==l.indexOf(z.id)&&D++}}catch(e){S=!0,w=e}finally{try{!_&&N.return&&N.return()}finally{if(S)throw w}}this.checkedCities=e,this.checkAll=D===this.cities.length,this.isIndeterminate=D>0&&D<this.cities.length},pullBtnHeightChange:function(){this.isActive=!this.isActive},sureSubmit:function(){this.$emit("sureSubmit",{type:this.componentParam.componentType,list:this.selectedCities})},getId:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=o()(e);!(i=(r=n.next()).done);i=!0){var c=r.value;t.push(c.id)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t}},r()(s,"pullBtnHeightChange",function(){this.isActive=!this.isActive}),r()(s,"close",function(){this.$emit("hideComponent")}),r()(s,"deleteDept",function(e){for(var t in this.checkAll=!1,this.isIndeterminate=!1,this.checkedCities)this.checkedCities[t].id==this.selectedCities[e].id&&this.checkedCities.splice(t,1);this.selectedCities.splice(e,1),this.checkAll=this.checkedCities.length===this.cities.length&&this.cities.length>0,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length}),r()(s,"clearDept",function(){this.checkedCities.splice(0,this.checkedCities.length),this.selectedCities.splice(0,this.selectedCities.length),this.checkAll=!1,this.isIndeterminate=!1}),r()(s,"disposeOrganName",function(e){var t="",i=!0,s=!1,a=void 0;try{for(var r,n=o()(this.selectOrgs);!(i=(r=n.next()).done);i=!0){t+=r.value.text+" > "}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t=(t=t.trim()).substr(0,t.length-1),this.tooltipclassificationName=t,t.length>30?this.classificationName=t.substr(0,30)+"...":this.classificationName=t,t}),r()(s,"getPrarentNode",function(e){e&&(e.data&&void 0!=e.data.name&&this.selectOrgs.unshift({text:""+e.data.name,petId:""+e.data.id,PID:""+e.data.pid}),void 0!=e.parent&&this.getPrarentNode(e.parent))}),r()(s,"getChildNode",function(e){var t=!0,i=!1,s=void 0;try{for(var a,r=o()(e);!(t=(a=r.next()).done);t=!0){var n=a.value;this.selectedCities.push(n),n.hasOwnProperty("Child")&&n.Child.length>0&&this.getChildNode(n.Child)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}),s)},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"originater_dialog newProcess_dialog"},[i("div",{class:[e.componentParam.closeShow?"pc-candidates":"pc-candidates pc-background"]},[i("div",{staticClass:"dialog_content"},[i("el-main",{staticStyle:{position:"relative"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.componentParam.closeShow,expression:"!componentParam.closeShow"}],staticClass:"top"},[i("span",[e._v("流程分类选择")]),e._v(" "),i("span",{staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:e.close}},[e._v("×")])]),e._v(" "),i("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],attrs:{type:"card","element-loading-text":"加载中...","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("el-tab-pane",{staticClass:"candidates-recently"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont icon-todos"}),e._v(" 流程")]),e._v(" "),i("div",{staticClass:"title  title-border"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right",title:e.tooltipclassificationName}},[i("el-breadcrumb-item",[e._v("流程分类选择")]),e._v(" "),i("el-breadcrumb-item",[e._v(e._s(e.classificationName))])],1),e._v(" "),i("span",{staticClass:"rightInput"},[i("el-input",{attrs:{placeholder:"请输入流程分类名","prefix-icon":"el-icon-search",size:"mini"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterSearch(t):null}},model:{value:e.treeSearch,callback:function(t){e.treeSearch=t},expression:"treeSearch"}})],1)],1),e._v(" "),i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"content-left"},[i("div",{staticClass:"title"},[i("el-form",{staticClass:"demo-form-inline init-organize-box",staticStyle:{width:"100%"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:""}},[i("el-select",{ref:"selectTree",staticStyle:{width:"100%"},attrs:{placeholder:"组织","popper-class":"tree-list-box"},model:{value:e.organizeName,callback:function(t){e.organizeName=t},expression:"organizeName"}},[i("el-option",{staticStyle:{height:"auto",padding:"0px 0px"},attrs:{value:"",disabled:!0}},[i("div",[i("el-tree",{ref:"orgtree",attrs:{data:e.organizeList,"highlight-current":!0,"node-key":"orgID","default-expand-all":"","expand-on-click-node":!1,"empty-text":"暂无数据",props:e.props},on:{"node-click":e.selectTreeClick}})],1)])],1)],1)],1)],1),e._v(" "),i("el-tree",{ref:"classificationTree",attrs:{data:e.treeList,"node-key":"id","highlight-current":!0,props:e.defaultProps,"empty-text":"","expand-on-click-node":!1,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),i("div",{staticClass:"content-right"},[e.componentParam.oneCheck?e._e():i("el-checkbox",{staticStyle:{"padding-top":"6px","padding-left":"20px"},attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n                ")]),e._v(" "),e.componentParam.oneCheck?i("el-checkbox-group",{staticClass:"theRadio",model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox-button",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body",on:{click:function(i){e.clickDepartment(t)},dblclick:function(i){e.dblclickCheckedCitie(t)}}},[i("h4",{staticClass:"media-heading iconfont icon-process1",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])})):i("el-checkbox-group",{staticClass:"mut-check",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])}))],1)]),e._v(" "),i("div",{staticClass:"addrecently-box",class:{pullup:e.isActive}},[i("div",{staticClass:"addrecently"},[i("div",{staticClass:"media"},[i("div",{staticClass:"pull",on:{click:e.pullBtnHeightChange}}),e._v(" "),i("ul",{staticClass:"clearfix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedCities.length>0,expression:"selectedCities.length>0"}],staticClass:"clearBtn",on:{click:e.clearDept}}),e._v(" "),e._l(e.selectedCities,function(t,s){return i("li",{key:s},[i("div",{staticClass:"media-body"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.deleteDept(s)}}}),e._v(" "),i("span",{staticClass:"media-heading"},[e._v(e._s(t.name))])])])})],2)])])]),e._v(" "),i("div",{staticClass:"addrecently-footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline",size:"mini"},on:{click:e.sureSubmit}},[e._v("确定\n              ")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",size:"mini"},on:{click:e.close}},[e._v("取消")])],1)])],1)],1)],1)])])},staticRenderFns:[]};var g=i(47)(h,p,!1,function(e){i(691)},"data-v-4306266d",null);t.a=g.exports},691:function(e,t){},748:function(e,t){},788:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(160),a=i.n(s),r=i(360),n=i.n(r),o=i(685),c=i(690),l=i(688),d=i(67),h=i(1),p=i.n(h),g=i(359),u=p()().day(0).format("YYYY-MM-DD"),m=p()().day(6).format("YYYY-MM-DD"),f=p()().startOf("month").format("YYYY-MM-DD"),v=p()().endOf("month").format("YYYY-MM-DD"),C=p()().startOf("quarter").format("YYYY-MM-DD"),y=p()().endOf("quarter").format("YYYY-MM-DD"),k=p()().startOf("year").format("YYYY-MM-DD"),b=p()().endOf("year").format("YYYY-MM-DD"),x={name:"statisticalRate",components:{page:o.a,processClassification:c.a,processSelection:l.a},data:function(){var e;return e={processCategoryName:"",processCategoryList:[],processList:[],processName:"",processIDs:"",processCategoryIDs:"",projectList:[],OrgId:"",showdialog:!1,componentParam:{componentType:{type:String,required:!0},backfillData:{type:Array,required:!0},oneCheck:{type:Boolean,required:!0},closeShow:{type:Boolean,required:!0}},type:1,fullHeight:document.documentElement.clientHeight,isShow:!0,arrt:"收起",icon:"el-icon-arrow-down",selectValue:1,organSelectRadio:"",organSelectDateStart:"",organSelectDateEnd:"",isShowReportCondition:!0,arrtReportCondition:"收起",pageSizesList:[10,20,50,100],pageSize:10,pageIndex:1,total:0,isShowtwo:!0,arrtTwo:"收起",model:{selectForm:{processName:"",processIDs:""},Date:""},tableData:[],showList:!1,hideComponentShow:!1},n()(e,"processCategoryIDs",""),n()(e,"childDataUrl",{url:""}),n()(e,"comp",{}),n()(e,"orderBy",""),n()(e,"exportData",[]),n()(e,"imgLoading",!1),e},mounted:function(){},methods:{change:function(){switch(this.selectValue){case 1:this.startDate=u,this.endDate=m;break;case 2:this.startDate=f,this.endDate=v;break;case 3:this.startDate=C,this.endDate=y;break;case 4:this.startDate=k,this.endDate=b;break;case 5:this.startDate=this.model.Date[0]?this.model.Date[0]+" 00:00:00":"",this.endDate=this.model.Date[1]?this.model.Date[1]+" 23:59:59":""}},openDailog:function(e){this.componentParam.closeShow=!1,this.componentParam.componentType=e,this.componentParam.oneCheck=!1,"processClassification"==e?this.componentParam.backfillData=this.processCategoryList:"processSelection"==e&&(this.componentParam.backfillData=this.processList),this.showdialog=!0,d.a.showDailog_mask()},hideComponent:function(){this.showdialog=!1,d.a.hiddenDailog_mask()},showMsgfromchild:function(e){if(e.type&&"processClassification"==e.type){this.processCategoryList=e.list;var t=[],i=[],s=!0,r=!1,n=void 0;try{for(var o,c=a()(e.list);!(s=(o=c.next()).done);s=!0){var l=o.value;i.push(l.name),t.push(l.id+"")}}catch(e){r=!0,n=e}finally{try{!s&&c.return&&c.return()}finally{if(r)throw n}}this.processCategoryIDs=t.join(","),this.processCategoryName=i.join("；")}else if(e.type&&"processSelection"==e.type){this.processList=e.list;var d=[],h=[],p=!0,g=!1,u=void 0;try{for(var m,f=a()(e.list);!(p=(m=f.next()).done);p=!0){var v=m.value;h.push(v.name),d.push(v.processId+"")}}catch(e){g=!0,u=e}finally{try{!p&&f.return&&f.return()}finally{if(g)throw u}}this.processIDs=d.join(","),this.processName=h.join("；")}this.hideComponent()},getProcessID:function(e,t){var i=!0,s=!1,r=void 0;try{for(var n,o=a()(e);!(i=(n=o.next()).done);i=!0){var c=n.value;if(!c.Child)return void(c.processId&&"0"!==c.processId&&null!==c.processId?t.processId.push(c.processId+""):t.processCategoryIDs.push(c.id+""));this.getProcessID(c.Child,t),t.processName.push(c.name.trim())}}catch(e){s=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw r}}},showToggle:function(){this.isShow=!this.isShow,this.isShow?(this.arrt="收起",this.icon="el-icon-arrow-up"):(this.arrt="展开",this.icon="el-icon-arrow-down")},sortChange:function(e){this.orderBy=e.prop+" "+e.order.replace("ending",""),this.getList()},refresh:function(){this.componentParam.backfillData=new Array,this.processList=new Array,this.processCategoryList=new Array,this.processName="",this.processIDs="",this.selectValue=1,this.endDate="",this.startDate="",this.model.Date=[],this.processCategoryName="",this.processCategoryIDs=""},handleSizeChange:function(e){var t=""+e;this.pageIndex=1,this.pageSize=parseInt(t),this.getList()},handleCurrentChange:function(e){this.pageIndex=e,this.getList()},exportList:function(){var e=this;this.change(),g.a.startLoading({lock:!0,text:"数据量过大，正在拼命加载中...",background:"rgba(255, 255, 255, 0.9)",target:document.querySelector(".loadingtext")});var t={pageSize:1e3,pageIndex:0,startDate:this.startDate,endDate:this.endDate,processIDs:this.processIDs,processCategoryIDs:this.processCategoryIDs,orderBy:this.orderBy};null==this.model.Date&&(this.model.Date=[]),this.model.selectForm.startDate=this.model.Date[0]?this.model.Date[0]+" 00:00:00":"",this.model.selectForm.endDate=this.model.Date[1]?this.model.Date[1]+" 23:59:59":"",this.$axios.post("/api/exportExcelForTable",{tableName:"动态-岗位/人-以“岗位”统计退回率",params:t},{responseType:"blob"}).then(function(e){for(var t=e.data,i=0;i<t.length;i++)t.statisticalreturnrate[i].returnRate=t.statisticalreturnrate[i].returnRate+"%";d.a.exportSearchList("动态-岗位/人-以“岗位”统计退回率",t),g.a.endLoading()}).catch(function(t){g.a.endLoading(),e.$message.error("导出Excel失败!ERROR MESSAGE:"+t)})},getList:function(){var e=this;if(0!==this.processIDs.length||0!==this.processCategoryIDs.length){this.imgLoading=!0,this.change();var t={pageSize:this.pageSize,pageIndex:this.pageIndex-1,startDate:this.startDate,endDate:this.endDate,processIDs:this.processIDs,processCategoryIDs:this.processCategoryIDs,orderBy:this.orderBy};this.$axios.post("/api/Statisticalreturnrate/page",t).then(function(t){if(200===t.status){e.tableData=t.data.statisticalreturnrate,e.total=t.data.total;for(var i=0;i<e.tableData.length;i++)t.data.statisticalreturnrate[i].returnRate=t.data.statisticalreturnrate[i].returnRate+"%"}else e.$message.error("查询列表数据失败!ERROR MESSAGE"),e.imgLoading=!1;e.imgLoading=!1}).catch(function(t){e.$message.error("查询列表数据失败!ERROR MESSAGE:"+t),e.imgLoading=!1})}else this.$message.warning("请选择流程分类或流程选择进行查询！")},search:function(){this.pageIndex=1,this.getList()}},watch:{fullHeight:function(){return document.documentElement.clientHeight}},computed:{}},D={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"staticReports"},[i("el-container",[i("el-header",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],staticClass:"staticReports loadingtext minWidth",attrs:{"element-loading-text":"加载中...","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("div",{staticClass:"taticReports-content"},[i("el-row",{staticClass:"staticReports-header",attrs:{type:"flex",justify:"space-between"}},[i("el-col",{staticClass:"titleMT",attrs:{span:17}},[i("span",{staticClass:"mz",on:{click:function(t){e.$router.back(-1)}}},[e._v("流程报表")]),i("i",{class:e.icon})]),e._v(" "),i("el-col",{staticClass:"titleBtn clearfix",attrs:{span:6}},[i("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.refresh}},[e._v("重置")]),e._v(" "),i("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),i("br"),e._v(" "),i("div",{staticClass:"statement reportCondition"},[i("span",{staticClass:"fz16"},[e._v("动态-岗位/人-以“步骤名称”统计退回率")]),e._v(" "),i("el-row",{staticClass:"staticReports-middle lh35 staticReportsMiddle"},[i("el-col",{staticClass:"classSelect",attrs:{span:2,sm:4,md:1}},[i("span",[e._v("流程分类选择")])]),e._v(" "),i("el-col",{staticClass:"classSelectMR process-inputbox",attrs:{span:7}},[i("i",{staticClass:"iconfont icon-organization",on:{click:function(t){e.openDailog("processClassification")}}}),e._v(" "),i("span",{on:{dblclick:function(t){e.openDailog("processClassification")}}},[i("el-input",{attrs:{placeholder:"",disabled:!0,title:e.processCategoryName},model:{value:e.processCategoryName,callback:function(t){e.processCategoryName=t},expression:"processCategoryName"}})],1)]),e._v(" "),i("el-col",{attrs:{span:1}},[i("span",[e._v(" ")])]),e._v(" "),i("el-col",{staticClass:"processSelect",attrs:{span:2,sm:4,md:1}},[i("span",[e._v("流程选择")])]),e._v(" "),i("el-col",{staticClass:"process-inputbox",attrs:{span:6}},[i("i",{staticClass:"iconfont icon-organization",on:{click:function(t){e.openDailog("processSelection")}}}),e._v(" "),i("span",{on:{dblclick:function(t){e.openDailog("processSelection")}}},[i("el-input",{staticClass:"input-text",attrs:{placeholder:"",disabled:!0,title:e.processName},model:{value:e.processName,callback:function(t){e.processName=t},expression:"processName"}})],1)])],1),e._v(" "),i("el-row",{staticClass:"reportCondition-date reportConditionDate"},[i("el-col",{staticClass:"timeDuan",attrs:{span:2,sm:4,md:1}},[i("span",[e._v("时间段")])]),e._v(" "),i("el-col",{staticClass:"timeSelect",attrs:{span:8,sm:8}},[i("el-radio-group",{on:{change:e.change},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},[i("el-radio",{attrs:{label:1}},[e._v("本周")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("本月")]),e._v(" "),i("el-radio",{attrs:{label:3}},[e._v("本季度")]),e._v(" "),i("el-radio",{attrs:{label:4}},[e._v("本年")]),e._v(" "),i("el-radio",{attrs:{label:5}},[e._v("其他")])],1)],1),e._v(" "),i("el-col",{staticClass:"space",attrs:{span:2,sm:4,md:1}},[i("span",[e._v(" ")])]),e._v(" "),5===e.selectValue?i("el-col",{attrs:{span:7,sm:6}},[i("div",{staticClass:"border"},[i("el-date-picker",{staticClass:"timeWidth",attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.model.Date,callback:function(t){e.$set(e.model,"Date",t)},expression:"model.Date"}})],1)]):e._e()],1),e._v(" "),i("el-row",[i("el-col",{staticClass:"buttonWrap buttonWrapTA",attrs:{span:4}},[i("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.exportList}},[i("i",{staticClass:"iconfont icon-export"}),e._v("导出")])],1)],1)],1),e._v(" "),i("div",{staticClass:"statement "},[i("el-table",{ref:"singleTable",staticClass:"tableWidth",attrs:{data:e.tableData,height:e.isShow?e.fullHeight-320:e.fullHeight-215,border:""},on:{"sort-change":e.sortChange}},[i("el-table-column",{attrs:{property:"rowNumber",label:"排名"}}),e._v(" "),i("el-table-column",{attrs:{property:"activityName",label:"步骤名称",sortable:"custom",width:"600"}}),e._v(" "),i("el-table-column",{attrs:{property:"processTotalCnt",label:"处理实例数"}}),e._v(" "),i("el-table-column",{attrs:{property:"returnCnt",label:"退回实例数"}}),e._v(" "),i("el-table-column",{attrs:{property:"returnRate",sortable:"custom",label:"退回率",with:"50"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgLoading,expression:"!imgLoading"}],attrs:{slot:"empty"},slot:"empty"},[i("p",{style:{marginTop:"23px"}},[e._v("暂无数据")])]),e._v(" "),i("div",{attrs:{slot:"append"},slot:"append"},[i("page",{attrs:{pageIndex:e.pageIndex,total:e.total,pageSize:e.pageSize,pageSizesList:e.pageSizesList},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1)],1)],1)],1)]),e._v(" "),e.showdialog?i(e.componentParam.componentType,{tag:"component",attrs:{componentParam:e.componentParam},on:{hideComponent:e.hideComponent,sureSubmit:e.showMsgfromchild}}):e._e()],1)],1)],1)},staticRenderFns:[]};var _=i(47)(x,D,!1,function(e){i(748)},"data-v-1511e39c",null);t.default=_.exports}});