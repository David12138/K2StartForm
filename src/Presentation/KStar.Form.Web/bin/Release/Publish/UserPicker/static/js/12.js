webpackJsonp([12],{685:function(e,t,i){"use strict";var s={name:"page",props:{pageIndex:{type:Number,default:1,required:!0},pageSize:{type:Number,default:1,required:!0},total:{type:Number,default:0,required:!0},pageSizesList:{type:Array,required:!0}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},firstPage:function(){this.pageIndex=1},tailPage:function(){this.pageIndex=this.$refs.page.internalPageCount}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[i("el-pagination",{ref:"page",attrs:{background:"","current-page":e.pageIndex,"page-sizes":e.pageSizesList,"page-size":e.pageSize,"prev-text":e.$t("UserPicker.HomePage"),"next-text":e.$t("UserPicker.TailPage"),layout:"total, prev, pager, next, sizes",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"prev-click":e.firstPage,"next-click":e.tailPage}})],1)},staticRenderFns:[]};var r=i(47)(s,a,!1,function(e){i(687)},"data-v-18a42a56",null).exports;t.a=r},687:function(e,t){},688:function(e,t,i){"use strict";var s,a=i(360),r=i.n(a),n=i(163),c=i.n(n),o=i(160),l=i.n(o),h=i(357),d=i(67),u={name:"",props:{componentParam:{componentType:{type:String,required:!0},childDataUrl:{type:Object,required:!0},backfillData:{type:Array,default:new Array,required:!0},assemblyParam:{type:Object,required:!0},checkProcess:{type:Boolean,default:!1,required:!0},oneCheck:{type:Boolean,default:!1,required:!0},closeShow:{type:Boolean,default:!0,required:!0},type:Object,required:!0}},mounted:function(){if(this.componentParam.backfillData.length>0){var e=!0,t=!1,i=void 0;try{for(var s,a=l()(this.componentParam.backfillData);!(e=(s=a.next()).done);e=!0){var r=s.value;this.selectedCities.push(r)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}}},data:function(){return{checkedCities:[],selectedCities:[],processName:"",organizeProcessName:"",organName:"",selectOrgs:[],isActive:!1,checkAll:!1,cities:[],treeSearch:"",treeList:[],rootNode:{},defaultProps:{id:"id",children:"Child",label:"name"},tooltiprocessName:"",defaultKeys:[],currentId:"",isIndeterminate:!1,props:{label:"orgName",value:"orgID",children:"m_ChildOrg"},organizeList:[],activeOrganizeName:[],organizeName:"",organize:{orgID:""},imgLoading:!1}},watch:{treeSearch:function(e){this.debouncedSearchTree()}},created:function(e){var t=this;t.debouncedSearchTree=Object(h.debounce)(t.searchTree,2e3),t.debouncedGetProcess=Object(h.debounce)(t.getProcess,200,e),t.imgLoading=!0,c.a.all([t.getOrganizeList(),t.getUserOrganize()]).then(function(e){if(e[0]){t.organize.orgID=e[1]||t.organizeList[0].orgID;var i=t.$refs.orgtree.getNode(t.organize.orgID);i&&(t.$refs.orgtree.setCurrentKey(t.organize.orgID),t.setOrganize(i)),t.getCategoryOfOrganize(t.organize.orgID).then(function(){t.imgLoading=!1})}}).catch(function(e){t.imgLoading=!1,t.$message.error(e)})},methods:(s={selectTreeClick:function(e,t){var i=this;this.processName="",this.tooltiprocessName="",i.$refs.selectTree.visible=!1,i.organize=e,i.setOrganize(t),i.imgLoading=!0,i.getCategoryOfOrganize(e.orgID).then(function(){i.imgLoading=!1}),i.cities=[],i.checkAll=!1,i.isIndeterminate=!1},setOrganize:function(e){this.activeOrganizeName=[],this.getOrgPrarentNode(e),this.organizeName=this.activeOrganizeName.reverse().join("/"),this.organizeProcessName=this.activeOrganizeName.join(">")+">"},getUserOrganize:function(){var e=this;return new c.a(function(t,i){e.$axios.post("/api/getorg",{}).then(function(e){if(e.data.getOrgList.length>0){var i=e.data.getOrgList[0].orgid;t(i)}else t(null)}).catch(function(e){i("获取用户所在部门失败!ERROR MESSAGE:"+e)})})},getOrganizeList:function(){var e=this;return new c.a(function(t,i){e.$axios.post("/api/companytree/page",{}).then(function(i){i.data.companyTreeList.length>0?(e.organizeList=i.data.companyTreeList,t(!0)):t(!1)}).catch(function(e){i("获取组织数据失败!ERROR MESSAGE:"+e)})})},getCategoryOfOrganize:function(e){var t=this,i={orgId:e,isUse:1,name:t.treeSearch.trim(),isHide:1,isDailog:"1"};return new c.a(function(e,s){t.$axios.post("/api/processCategory",i).then(function(i){if(0==i.data.result.length)t.treeList=[];else{for(var s=d.a.toTree(i.data.result,"id","pid","Child"),a=0;a<s.length;a++)0!=s[a].pid&&(s.splice(a,1),a--);t.treeList=s}e(!0)}).catch(function(e){s("查询列表数据失败!ERROR MESSAGE:"+e)})})},getOrgPrarentNode:function(e){void 0!=e.data.orgName&&this.activeOrganizeName.push(e.data.orgName),void 0!=e.parent&&this.getOrgPrarentNode(e.parent)},enterSearch:function(){this.defaultKeys=[],this.debouncedSearchTree()},searchTree:function(){var e=this;if(e.defaultKeys=[],""==e.treeSearch.trim())return e.imgLoading=!0,void e.getCategoryOfOrganize(e.organize.orgID).then(function(){e.imgLoading=!1});""!=e.organize.orgID?e.searchProcessCategory():e.$message.warning("请先选择组织进行搜索！")},searchProcessCategory:function(){var e=this;e.treeList.splice(0,e.treeList.length),e.cities.splice(0,e.cities.length),e.checkAll=!1,e.isIndeterminate=!1;var t={isCategory:"",isDailog:1,isHide:1,isUse:1,name:e.treeSearch.trim(),id:"",orgId:e.organize.orgID};e.imgLoading=!0,e.$axios.post("/api/processCategoryTree",t).then(function(t){if(0==t.data.result.length)e.treeList=[];else{var i=d.a.toTree(t.data.result,"id","pid","Child");e.treeList=i,e.getdefaultKeys(i)}e.imgLoading=!1}).catch(function(t){e.imgLoading=!1,e.$message.error("搜索组织流程失败！"+t)})},getProcess:function(e){if(e){var t=this,i=t.getSelectProcessId(t.selectedCities),s={isCategory:"0",isDailog:1,isHide:1,isUse:1,name:"",id:e.data.id,orgId:t.organize.orgID};t.imgLoading=!0,t.$axios.post("/api/processCategoryTree",s).then(function(e){t.displayProcess(e.data.result,i),t.imgLoading=!1}).catch(function(e){t.imgLoading=!1,t.$message.error("连接服务器失败！"+e)})}},handleNodeClick:function(e,t){if(0==this.treeSearch.trim().length)this.debouncedGetProcess(t);else if(this.treeSearch.trim().length>0){var i=this.getSelectProcessId(this.selectedCities),s=[];e.Child?s=e.Child:s.push(e),this.displayProcess(s,i)}this.selectOrgs=[],this.getPrarentNode(t),this.disposeOrganName(e.name)},getdefaultKeys:function(e){var t=!0,i=!1,s=void 0;try{for(var a,r=l()(e);!(t=(a=r.next()).done);t=!0){var n=a.value;n.hasOwnProperty("Child")&&n.Child.length>0&&(this.defaultKeys.push(n.id),this.getdefaultKeys(n.Child))}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}},displayProcess:function(e,t){this.cities.splice(0,this.cities.length),this.checkedCities=[],this.checkAll=!1,this.isIndeterminate=!1;var i=!0,s=!1,a=void 0;try{for(var r,n=l()(e);!(i=(r=n.next()).done);i=!0){var c=r.value;c.processId&&"0"!==c.processId&&null!==c.processId&&(t.indexOf(c.processId)>-1&&this.checkedCities.push(c),this.cities.push(c))}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}var o=this.getId(this.cities),h=0,d=!0,u=!1,p=void 0;try{for(var g,m=l()(this.checkedCities);!(d=(g=m.next()).done);d=!0){var f=g.value;-1!==o.indexOf(f.id)&&h++}}catch(e){u=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw p}}this.checkAll=h>0&&h===this.cities.length,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length},dblclickCheckedCitie:function(e){this.clickDepartment(e),this.$emit("sureSubmit",{type:this.componentParam.componentType,list:this.selectedCities})},clickDepartment:function(e){this.selectedCities.splice(0,this.selectedCities.length),this.selectedCities.push(e),this.checkedCities.splice(0,this.checkedCities.length),this.checkedCities.push(e);var t=this.$refs.processTree.getNode(e.pid);this.selectOrgs=[],this.getPrarentNode(t),e.tooltiprocessName=this.disposeOrganName(e.name)},handleCheckAllChange:function(e){this.checkedCities=[];var t=this.getSelectProcessId(this.selectedCities);if(e){var i=!0,s=!1,a=void 0;try{for(var r,n=l()(this.cities);!(i=(r=n.next()).done);i=!0){var c=r.value;-1===t.indexOf(c.processId)&&this.selectedCities.push(c),this.checkedCities.push(c)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.checkAll=!0,this.isIndeterminate=!1}else{var o=!0,h=!1,d=void 0;try{for(var u,p=l()(this.cities);!(o=(u=p.next()).done);o=!0){var g=u.value;if(t.indexOf(g.processId)>-1){var m=-1;for(var f in this.selectedCities)this.selectedCities[f].processId==g.processId&&(m=f);-1!=m&&this.selectedCities.splice(m,1)}}}catch(e){h=!0,d=e}finally{try{!o&&p.return&&p.return()}finally{if(h)throw d}}this.checkAll=!1,this.isIndeterminate=!1}},handleCheckedCitiesChange:function(e){this.isIndeterminate=!1;var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=l()(this.selectedCities);!(i=(r=n.next()).done);i=!0){var c=r.value;t.push(c)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.selectedCities.splice(0,this.selectedCities.length);var o=this.getId(this.cities),h=[];for(var d in t)-1==o.indexOf(t[d].id)&&h.push(t[d]);this.selectedCities=h;var u=[],p=!0,g=!1,m=void 0;try{for(var f,v=l()(e);!(p=(f=v.next()).done);p=!0){var C=f.value;u.tooltiprocessName=this.disposeOrganName(C.name)}}catch(e){g=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(g)throw m}}var y=this.getSelectProcessId(this.selectedCities),k=!0,b=!1,D=void 0;try{for(var _,x=l()(e);!(k=(_=x.next()).done);k=!0){var S=_.value;-1===y.indexOf(S.processId)&&this.selectedCities.push(S)}}catch(e){b=!0,D=e}finally{try{!k&&x.return&&x.return()}finally{if(b)throw D}}var N=0,I=!0,w=!1,O=void 0;try{for(var P,z=l()(e);!(I=(P=z.next()).done);I=!0){var L=P.value;-1!==o.indexOf(L.id)&&N++}}catch(e){w=!0,O=e}finally{try{!I&&z.return&&z.return()}finally{if(w)throw O}}this.checkedCities=e,this.checkAll=N===this.cities.length,this.isIndeterminate=N>0&&N<this.cities.length},pullBtnHeightChange:function(){this.isActive=!this.isActive},sureSubmit:function(){this.$emit("sureSubmit",{type:this.componentParam.componentType,list:this.selectedCities})},getSelectProcessId:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=l()(e);!(i=(r=n.next()).done);i=!0){var c=r.value;t.push(c.processId)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t},getId:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=l()(e);!(i=(r=n.next()).done);i=!0){var c=r.value;t.push(c.id)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t}},r()(s,"pullBtnHeightChange",function(){this.isActive=!this.isActive}),r()(s,"close",function(){this.$emit("hideComponent")}),r()(s,"deleteDept",function(e){for(var t in this.checkAll=!1,this.isIndeterminate=!1,this.checkedCities)this.checkedCities[t].id==this.selectedCities[e].id&&this.checkedCities.splice(t,1);this.selectedCities.splice(e,1),this.checkAll=this.checkedCities.length===this.cities.length&&this.cities.length>0,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length}),r()(s,"clearDept",function(){this.checkedCities.splice(0,this.checkedCities.length),this.selectedCities.splice(0,this.selectedCities.length),this.checkAll=!1,this.isIndeterminate=!1}),r()(s,"disposeOrganName",function(e){var t="",i=!0,s=!1,a=void 0;try{for(var r,n=l()(this.selectOrgs);!(i=(r=n.next()).done);i=!0){t+=r.value.text+" > "}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t=(t=t.trim()).substr(0,t.length-1),this.tooltiprocessName=t,t.length>30?this.processName=t.substr(0,30)+"...":this.processName=t,t}),r()(s,"getPrarentNode",function(e){e&&(e.data&&void 0!=e.data.name&&this.selectOrgs.unshift({text:""+e.data.name,petId:""+e.data.id,PID:""+e.data.pid}),void 0!=e.parent&&this.getPrarentNode(e.parent))}),s)},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"originater_dialog newProcess_dialog"},[i("div",{class:[e.componentParam.closeShow?"pc-candidates":"pc-candidates pc-background"]},[i("div",{staticClass:"dialog_content"},[i("el-main",{staticStyle:{position:"relative"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.componentParam.closeShow,expression:"!componentParam.closeShow"}],staticClass:"top"},[e._v("流程选择\n          "),i("span",{staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:e.close}},[e._v("×")])]),e._v(" "),i("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],attrs:{type:"card","element-loading-text":"加载中...","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("el-tab-pane",{staticClass:"candidates-recently"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont icon-todos"}),e._v(" 流程")]),e._v(" "),i("div",{staticClass:"title  title-border"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right",title:e.organizeProcessName+e.tooltiprocessName}},[i("el-breadcrumb-item",[e._v("流程选择")]),e._v(" "),i("el-breadcrumb-item",{staticStyle:{overflow:"hidden","-ms-text-overflow":"ellipsis","text-overflow":"ellipsis","white-space":"nowrap",width:"300px",display:"inline-block"}},[e._v(e._s(e.organizeProcessName)+e._s(e.processName))])],1),e._v(" "),i("span",{staticClass:"rightInput"},[i("el-input",{attrs:{placeholder:"请输入流程关键字","prefix-icon":"el-icon-search",size:"mini"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterSearch(t):null}},model:{value:e.treeSearch,callback:function(t){e.treeSearch=t},expression:"treeSearch"}})],1)],1),e._v(" "),i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"content-left",staticStyle:{position:"relative"}},[i("div",{staticClass:"title"},[i("el-form",{staticClass:"demo-form-inline init-organize-box",staticStyle:{width:"100%"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:""}},[i("el-select",{ref:"selectTree",staticStyle:{width:"100%"},attrs:{placeholder:"组织","popper-class":"tree-list-box"},model:{value:e.organizeName,callback:function(t){e.organizeName=t},expression:"organizeName"}},[i("el-option",{staticStyle:{height:"auto",padding:"0px 0px"},attrs:{value:"",disabled:!0}},[i("div",[i("el-tree",{ref:"orgtree",attrs:{data:e.organizeList,"highlight-current":!0,"node-key":"orgID","default-expand-all":"","expand-on-click-node":!1,"empty-text":"暂无数据",props:e.props},on:{"node-click":e.selectTreeClick}})],1)])],1)],1)],1)],1),e._v(" "),e.treeList.length>0?i("el-tree",{ref:"processTree",attrs:{data:e.treeList,"node-key":"id","highlight-current":!0,props:e.defaultProps,"empty-text":"","expand-on-click-node":!1,"default-expanded-keys":e.defaultKeys},on:{"node-click":e.handleNodeClick}}):e._e(),e._v(" "),0===e.treeList.length?i("div",{staticStyle:{position:"absolute",top:"50%",left:"50%","-webkit-transform":"translate(-50%, -50%)","-moz-transform":"translate(-50%, -50%)","-ms-transform":"translate(-50%, -50%)","-o-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"}},[e._v("\n                  暂无数据\n                ")]):e._e()],1),e._v(" "),i("div",{staticClass:"content-right",staticStyle:{position:"relative"}},[e.componentParam.oneCheck?e._e():i("el-checkbox",{staticStyle:{"padding-top":"6px","padding-left":"20px"},attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n                ")]),e._v(" "),e.componentParam.oneCheck?i("el-checkbox-group",{staticClass:"theRadio",model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox-button",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body",on:{click:function(i){e.clickDepartment(t)},dblclick:function(i){e.dblclickCheckedCitie(t)}}},[i("h4",{staticClass:"media-heading iconfont icon-process1",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])})):i("el-checkbox-group",{staticClass:"mut-check",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])})),e._v(" "),0===e.cities.length?i("div",{staticStyle:{position:"absolute",top:"50%",left:"50%","-webkit-transform":"translate(-50%, -50%)","-moz-transform":"translate(-50%, -50%)","-ms-transform":"translate(-50%, -50%)","-o-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"}},[e._v("\n                  暂无数据\n                ")]):e._e()],1)]),e._v(" "),i("div",{staticClass:"addrecently-box",class:{pullup:e.isActive}},[i("div",{staticClass:"addrecently"},[i("div",{staticClass:"media"},[i("div",{staticClass:"pull",on:{click:e.pullBtnHeightChange}}),e._v(" "),i("ul",{staticClass:"clearfix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedCities.length>0,expression:"selectedCities.length>0"}],staticClass:"clearBtn",on:{click:e.clearDept}}),e._v(" "),e._l(e.selectedCities,function(t,s){return i("li",{key:s},[i("div",{staticClass:"media-body"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.deleteDept(s)}}}),e._v(" "),i("span",{staticClass:"media-heading"},[e._v(e._s(t.name))])])])})],2)])])]),e._v(" "),i("div",{staticClass:"addrecently-footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline",size:"mini"},on:{click:e.sureSubmit}},[e._v("确定\n              ")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",size:"mini"},on:{click:e.close}},[e._v("取消")])],1)])],1)],1)],1)])])},staticRenderFns:[]};var g=i(47)(u,p,!1,function(e){i(689)},"data-v-2617991c",null);t.a=g.exports},689:function(e,t){},690:function(e,t,i){"use strict";var s,a=i(360),r=i.n(a),n=i(160),c=i.n(n),o=i(163),l=i.n(o),h=(i(357),i(67)),d={name:"processClassification",props:{componentParam:{componentType:{type:String,required:!0},backfillData:{type:Array,default:new Array,required:!0},oneCheck:{type:Boolean,default:!1,required:!0},closeShow:{type:Boolean,default:!0,required:!0},type:Object,required:!0}},data:function(){return{tooltipclassificationName:"",classificationName:"",treeSearch:"",treeList:[],defaultKeys:[],defaultProps:{id:"id",children:"Child",label:"name"},checkedCities:[],selectedCities:[],selectOrgs:[],isActive:!1,checkAll:!1,isIndeterminate:!1,cities:[],currentId:"",rootNode:{},oldtime:0,props:{label:"orgName",value:"orgID",children:"m_ChildOrg"},organizeList:[],activeOrganizeName:[],organizeName:"",organize:{orgID:""},imgLoading:!1}},watch:{treeSearch:function(e){this.$refs.classificationTree.filter(e.trim())}},created:function(e){var t=this;t.imgLoading=!0,l.a.all([t.getOrganizeList(),t.getUserOrganize()]).then(function(e){if(e[0]){t.organize.orgID=e[1]||t.organizeList[0].orgID;var i=t.$refs.orgtree.getNode(t.organize.orgID);i&&(t.$refs.orgtree.setCurrentKey(t.organize.orgID),t.setOrganize(i)),t.getCategoryOfOrganize(t.organize.orgID).then(function(){t.imgLoading=!1})}}).catch(function(e){t.imgLoading=!1,t.$message.error(e)})},mounted:function(){if(this.componentParam.backfillData.length>0){var e=!0,t=!1,i=void 0;try{for(var s,a=c()(this.componentParam.backfillData);!(e=(s=a.next()).done);e=!0){var r=s.value;this.selectedCities.push(r)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}}},methods:(s={selectTreeClick:function(e,t){var i=this;i.$refs.selectTree.visible=!1,i.organize=e,i.setOrganize(t),i.imgLoading=!0,i.getCategoryOfOrganize(e.orgID).then(function(){i.imgLoading=!1}),i.cities=[],i.checkAll=!1,i.isIndeterminate=!1},setOrganize:function(e){this.activeOrganizeName=[],this.getOrgPrarentNode(e),this.organizeName=this.activeOrganizeName.reverse().join("/")},getUserOrganize:function(){var e=this;return new l.a(function(t,i){e.$axios.post("/api/getorg",{}).then(function(e){if(e.data.getOrgList.length>0){var i=e.data.getOrgList[0].orgid;t(i)}else t(null)}).catch(function(e){i("获取用户所在部门失败!ERROR MESSAGE:"+e)})})},getOrganizeList:function(){var e=this;return new l.a(function(t,i){e.$axios.post("/api/companytree/page",{}).then(function(i){i.data.companyTreeList.length>0?(e.organizeList=i.data.companyTreeList,t(!0)):t(!1)}).catch(function(e){i("获取组织数据失败!ERROR MESSAGE:"+e)})})},getCategoryOfOrganize:function(e){var t=this,i={orgId:e,isUse:1,name:t.treeSearch,isHide:1,isDailog:"1"};return new l.a(function(e,s){t.$axios.post("/api/processCategory",i).then(function(i){if(0==i.data.result.length)t.$message.success("暂无数据"),t.treeList=[];else{for(var s=h.a.toTree(i.data.result,"id","pid","Child"),a=0;a<s.length;a++)0!=s[a].pid&&(s.splice(a,1),a--);t.treeList=s}e(!0)}).catch(function(e){s("查询列表数据失败!ERROR MESSAGE:"+e)})})},getOrgPrarentNode:function(e){void 0!=e.data.orgName&&this.activeOrganizeName.push(e.data.orgName),void 0!=e.parent&&this.getOrgPrarentNode(e.parent)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e,t){var i=this,s=(new Date).getTime();if(i.oldtime&&i.rootNode&&(s-i.oldtime<500&&i.rootNode.id==t.id))return i.clickDepartment(e),i.getChildNode(t.data.Child),void setTimeout(function(){i.$emit("sureSubmit",{type:i.componentParam.componentType,list:i.selectedCities})},300);i.oldtime=s,i.rootNode=t,i.displayContents(t.data),i.selectOrgs=[],i.getPrarentNode(t),i.disposeOrganName(e.name)},displayContents:function(e){var t=this.getId(this.selectedCities);if(this.cities=[],this.checkedCities=[],this.checkAll=!1,this.isIndeterminate=!1,e.hasOwnProperty("Child")){var i=!0,s=!1,a=void 0;try{for(var r,n=c()(e.Child);!(i=(r=n.next()).done);i=!0){var o=r.value;this.cities.push(o)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}var l=!0,h=!1,d=void 0;try{for(var u,p=c()(e.Child);!(l=(u=p.next()).done);l=!0){o=u.value;t.indexOf(o.id)>-1&&this.checkedCities.push(o)}}catch(e){h=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(h)throw d}}}else t.indexOf(e.id)>-1&&this.checkedCities.push(e),this.cities.push(e);var g=this.getId(this.cities),m=0,f=!0,v=!1,C=void 0;try{for(var y,k=c()(this.checkedCities);!(f=(y=k.next()).done);f=!0){var b=y.value;-1!==g.indexOf(b.id)&&m++}}catch(e){v=!0,C=e}finally{try{!f&&k.return&&k.return()}finally{if(v)throw C}}this.checkAll=m>0&&m===this.cities.length,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length},dblclickCheckedCitie:function(e){this.clickDepartment(e),this.$emit("sureSubmit",{type:"new_process_dialog",list:this.selectedCities})},clickDepartment:function(e){this.selectedCities.splice(0,this.selectedCities.length),this.selectedCities.push(e),this.checkedCities.splice(0,this.checkedCities.length),this.checkedCities.push(e);var t=this.$refs.classificationTree.getNode(e.pid);this.selectOrgs=[],this.getPrarentNode(t),e.tooltipclassificationName=this.disposeOrganName(e.name)},handleCheckAllChange:function(e){var t=this.getId(this.selectedCities);if(this.checkedCities=[],e){var i=!0,s=!1,a=void 0;try{for(var r,n=c()(this.cities);!(i=(r=n.next()).done);i=!0){var o=r.value;-1===t.indexOf(o.id)&&this.selectedCities.push(o),this.checkedCities.push(o)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.checkAll=!0,this.isIndeterminate=!1}else{var l=!0,h=!1,d=void 0;try{for(var u,p=c()(this.cities);!(l=(u=p.next()).done);l=!0){o=u.value;if(t.indexOf(o.id)>-1){var g=-1;for(var m in this.selectedCities)this.selectedCities[m].id==o.id&&(g=m);-1!=g&&this.selectedCities.splice(g,1)}}}catch(e){h=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(h)throw d}}this.checkAll=!1,this.isIndeterminate=!1}},handleCheckedCitiesChange:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=c()(this.selectedCities);!(i=(r=n.next()).done);i=!0){var o=r.value;t.push(o)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}this.selectedCities.splice(0,this.selectedCities.length);var l=this.getId(this.cities),h=[];for(var d in t)-1==l.indexOf(t[d].id)&&(h.push(t[d]),_++);this.selectedCities=h;o=[];var u=!0,p=!1,g=void 0;try{for(var m,f=c()(e);!(u=(m=f.next()).done);u=!0){d=m.value;o.tooltipclassificationName=this.disposeOrganName(d.name)}}catch(e){p=!0,g=e}finally{try{!u&&f.return&&f.return()}finally{if(p)throw g}}var v=this.getId(this.selectedCities),C=!0,y=!1,k=void 0;try{for(var b,D=c()(e);!(C=(b=D.next()).done);C=!0){d=b.value;-1===v.indexOf(d.id)&&this.selectedCities.push(d)}}catch(e){y=!0,k=e}finally{try{!C&&D.return&&D.return()}finally{if(y)throw k}}var _=0,x=!0,S=!1,N=void 0;try{for(var I,w=c()(e);!(x=(I=w.next()).done);x=!0){var O=I.value;-1!==l.indexOf(O.id)&&_++}}catch(e){S=!0,N=e}finally{try{!x&&w.return&&w.return()}finally{if(S)throw N}}this.checkedCities=e,this.checkAll=_===this.cities.length,this.isIndeterminate=_>0&&_<this.cities.length},pullBtnHeightChange:function(){this.isActive=!this.isActive},sureSubmit:function(){this.$emit("sureSubmit",{type:this.componentParam.componentType,list:this.selectedCities})},getId:function(e){var t=[],i=!0,s=!1,a=void 0;try{for(var r,n=c()(e);!(i=(r=n.next()).done);i=!0){var o=r.value;t.push(o.id)}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t}},r()(s,"pullBtnHeightChange",function(){this.isActive=!this.isActive}),r()(s,"close",function(){this.$emit("hideComponent")}),r()(s,"deleteDept",function(e){for(var t in this.checkAll=!1,this.isIndeterminate=!1,this.checkedCities)this.checkedCities[t].id==this.selectedCities[e].id&&this.checkedCities.splice(t,1);this.selectedCities.splice(e,1),this.checkAll=this.checkedCities.length===this.cities.length&&this.cities.length>0,this.isIndeterminate=this.checkedCities.length>0&&this.checkedCities.length<this.cities.length}),r()(s,"clearDept",function(){this.checkedCities.splice(0,this.checkedCities.length),this.selectedCities.splice(0,this.selectedCities.length),this.checkAll=!1,this.isIndeterminate=!1}),r()(s,"disposeOrganName",function(e){var t="",i=!0,s=!1,a=void 0;try{for(var r,n=c()(this.selectOrgs);!(i=(r=n.next()).done);i=!0){t+=r.value.text+" > "}}catch(e){s=!0,a=e}finally{try{!i&&n.return&&n.return()}finally{if(s)throw a}}return t=(t=t.trim()).substr(0,t.length-1),this.tooltipclassificationName=t,t.length>30?this.classificationName=t.substr(0,30)+"...":this.classificationName=t,t}),r()(s,"getPrarentNode",function(e){e&&(e.data&&void 0!=e.data.name&&this.selectOrgs.unshift({text:""+e.data.name,petId:""+e.data.id,PID:""+e.data.pid}),void 0!=e.parent&&this.getPrarentNode(e.parent))}),r()(s,"getChildNode",function(e){var t=!0,i=!1,s=void 0;try{for(var a,r=c()(e);!(t=(a=r.next()).done);t=!0){var n=a.value;this.selectedCities.push(n),n.hasOwnProperty("Child")&&n.Child.length>0&&this.getChildNode(n.Child)}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}}),s)},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"originater_dialog newProcess_dialog"},[i("div",{class:[e.componentParam.closeShow?"pc-candidates":"pc-candidates pc-background"]},[i("div",{staticClass:"dialog_content"},[i("el-main",{staticStyle:{position:"relative"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.componentParam.closeShow,expression:"!componentParam.closeShow"}],staticClass:"top"},[i("span",[e._v("流程分类选择")]),e._v(" "),i("span",{staticStyle:{"font-size":"30px",cursor:"pointer"},on:{click:e.close}},[e._v("×")])]),e._v(" "),i("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],attrs:{type:"card","element-loading-text":"加载中...","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("el-tab-pane",{staticClass:"candidates-recently"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont icon-todos"}),e._v(" 流程")]),e._v(" "),i("div",{staticClass:"title  title-border"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right",title:e.tooltipclassificationName}},[i("el-breadcrumb-item",[e._v("流程分类选择")]),e._v(" "),i("el-breadcrumb-item",[e._v(e._s(e.classificationName))])],1),e._v(" "),i("span",{staticClass:"rightInput"},[i("el-input",{attrs:{placeholder:"请输入流程分类名","prefix-icon":"el-icon-search",size:"mini"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterSearch(t):null}},model:{value:e.treeSearch,callback:function(t){e.treeSearch=t},expression:"treeSearch"}})],1)],1),e._v(" "),i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"content-left"},[i("div",{staticClass:"title"},[i("el-form",{staticClass:"demo-form-inline init-organize-box",staticStyle:{width:"100%"},attrs:{inline:!0}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:""}},[i("el-select",{ref:"selectTree",staticStyle:{width:"100%"},attrs:{placeholder:"组织","popper-class":"tree-list-box"},model:{value:e.organizeName,callback:function(t){e.organizeName=t},expression:"organizeName"}},[i("el-option",{staticStyle:{height:"auto",padding:"0px 0px"},attrs:{value:"",disabled:!0}},[i("div",[i("el-tree",{ref:"orgtree",attrs:{data:e.organizeList,"highlight-current":!0,"node-key":"orgID","default-expand-all":"","expand-on-click-node":!1,"empty-text":"暂无数据",props:e.props},on:{"node-click":e.selectTreeClick}})],1)])],1)],1)],1)],1),e._v(" "),i("el-tree",{ref:"classificationTree",attrs:{data:e.treeList,"node-key":"id","highlight-current":!0,props:e.defaultProps,"empty-text":"","expand-on-click-node":!1,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),i("div",{staticClass:"content-right"},[e.componentParam.oneCheck?e._e():i("el-checkbox",{staticStyle:{"padding-top":"6px","padding-left":"20px"},attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n                ")]),e._v(" "),e.componentParam.oneCheck?i("el-checkbox-group",{staticClass:"theRadio",model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox-button",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body",on:{click:function(i){e.clickDepartment(t)},dblclick:function(i){e.dblclickCheckedCitie(t)}}},[i("h4",{staticClass:"media-heading iconfont icon-process1",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])})):i("el-checkbox-group",{staticClass:"mut-check",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading",attrs:{title:t.name}},[e._v(e._s(t.name.length>30?t.name.substr(0,30)+"...":t.name))])])])])}))],1)]),e._v(" "),i("div",{staticClass:"addrecently-box",class:{pullup:e.isActive}},[i("div",{staticClass:"addrecently"},[i("div",{staticClass:"media"},[i("div",{staticClass:"pull",on:{click:e.pullBtnHeightChange}}),e._v(" "),i("ul",{staticClass:"clearfix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedCities.length>0,expression:"selectedCities.length>0"}],staticClass:"clearBtn",on:{click:e.clearDept}}),e._v(" "),e._l(e.selectedCities,function(t,s){return i("li",{key:s},[i("div",{staticClass:"media-body"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.deleteDept(s)}}}),e._v(" "),i("span",{staticClass:"media-heading"},[e._v(e._s(t.name))])])])})],2)])])]),e._v(" "),i("div",{staticClass:"addrecently-footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline",size:"mini"},on:{click:e.sureSubmit}},[e._v("确定\n              ")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",size:"mini"},on:{click:e.close}},[e._v("取消")])],1)])],1)],1)],1)])])},staticRenderFns:[]};var p=i(47)(d,u,!1,function(e){i(691)},"data-v-4306266d",null);t.a=p.exports},691:function(e,t){},714:function(e,t,i){"use strict";var s=i(160),a=i.n(s),r={name:"selectedPersonnel",props:{childDataUrl:{type:Object,required:!0},closeShow:!1,oneCheck:{type:Boolean,default:!0}},mounted:function(){this.childDataUrl.chooseProject&&this.childDataUrl.chooseProject.item&&this.childDataUrl.chooseProject.last&&(this.treeNode=this.childDataUrl.chooseProject.item,this.last=this.childDataUrl.chooseProject.last,this.checkedCitie.push(this.treeNode))},data:function(){return{organName:"",mianbao:[],value:"",options:[],bread:"",fullSearch:"",treeSearch:"",checkAll:!1,checkedCitie:[],cities:[],isIndeterminate:!1,organizationData:[],oldtime:0,defaultProps:{children:"m_ChildOrg",label:"orgName",isLeaf:function(e,t){return!(e&&e.isParent>0)}},last:{},treeNode:{},isActive:!1,tooltipOrganName:"",defaultKeys:[],isSeach:!1,treeQuery:!1}},watch:{treeSearch:function(e){var t=this;t.treeQuery=!0,t.queryName=e,this.loading=!0,this.isSeach||""==t.queryName.trim()||(this.isSeach=!0,setTimeout(function(){t.isSeach=!1,t.searchTree(t.queryName)},2e3))}},methods:{searchTree:function(e){var t=this,i=null;this.childDataUrl.isFirst&&(i=this.childDataUrl.isFirst),this.$axios.post("/api/"+this.childDataUrl.getTree,{orgName:e,isFirst:i}).then(function(e){t.organizationData=t.toTree(e.data.result)}).catch(function(e){t.$message.error("查询部门组织数据失败!ERROR MESSAGE:"+e)})},pullBtnHeightChange:function(){this.isActive=!this.isActive},disposeOrganName:function(e){for(var t="",i=0;i<e.length;i++){t+=e[i].text+">"}return t=t.substr(0,t.length-1),this.tooltipOrganName=t,t.length>30?this.bread=t.substr(0,30)+"...":this.bread=t,t},handleNodeClick:function(e,t){var i=(new Date).getTime();if(this.oldtime&&i-this.oldtime<200)return this.treeNode.orgFullName=t.data.orgFullName,this.treeNode.orgID=t.data.orgID,this.treeNode.orgName=t.data.orgName,this.treeNode.parentOrgID=t.data.parentOrgID,this.clickDepartment(this.treeNode),void this.$emit("sureSubmit",{type:"project",item:this.treeNode,last:this.last});if(this.oldtime=i,t.isLeaf){this.cities=[];var s={};s.isParent=e.isParent,s.orgFullName=e.orgFullName,s.orgID=e.orgID,s.orgName=e.orgName,s.parentOrgID=e.parentOrgID,this.cities.push(s)}else{this.cities=[];for(var a=0;t.childDatas&&a<t.childDatas.length;a++)this.cities.push(t.childDatas[a])}for(a=0;a<this.cities.length;a++){for(var r=!1,n=0;n<this.checkedCitie.length;n++)if(this.cities[a].orgID===this.checkedCitie[n].orgID){r=!0;break}this.cities[a].checked=!!r}this.mianbao=[],this.getPrarentNode(t),this.disposeOrganName(this.mianbao)},handleNodeload:function(e,t){var i=this;if(e.data&&0!=e.data.length)if(this.mianbao=[],e.data.m_ChildOrg&&e.data.m_ChildOrg.length>0){var s=[];e.childDatas=[];for(var a=0;a<e.data.m_ChildOrg.length;a++)s.push(e.data.m_ChildOrg[a]),e.childDatas.push(e.data.m_ChildOrg[a]);delete e.data.m_ChildOrg,t(s)}else this.$axios.post("/api/"+this.childDataUrl.getTree,{orgDepId:e.data.orgID}).then(function(s){if(200===s.status){e.childDatas=[],i.cities=[];for(var a=0;a<s.data.result.length;a++)e.childDatas.push(s.data.result[a]),i.cities.push(s.data.result[a]);t(s.data.result)}else i.$message.error("请求失败！")}).catch(function(e){that.$message.error("查询数据失败!ERROR MESSAGE:"+e)});else this.getTree(t)},getTree:function(e){var t=this,i=null;this.childDataUrl.isFirst&&(i=this.childDataUrl.isFirst),this.$axios.post("/api/"+this.childDataUrl.getTree,{orgDepId:"A5A40ECE-0DBD-4F2B-89E8-6BA91B91EBF4",isFirst:i}).then(function(i){200===i.status?(t.organizationData=t.toTree(i.data.result),e&&(e(t.organizationData),t.defaultKeys[0]=t.organizationData[0].orgID)):t.$message.error("请求失败！")}).catch(function(e){t.$message.error("查询部门组织数据失败!ERROR MESSAGE:"+e)})},sureSubmit:function(){this.checkedCitie&&0!==this.checkedCitie.length?this.oneCheck?this.$emit("sureSubmit",{type:"project",item:this.treeNode,last:this.last}):this.$emit("sureSubmit",{type:"project",items:this.checkedCitie}):this.$message.warning("请选择数据!")},close:function(){this.$emit("hideComponent")},searchProject:function(){},toTree:function(e){if(null==e||0==e.length)return[];e.forEach(function(e){delete e.m_ChildOrg});var t={};e.forEach(function(e){t[e.orgID]=e});var i=[];return e.forEach(function(e){var s=t[e.parentOrgID];s?(s.m_ChildOrg||(s.m_ChildOrg=[])).push(e):i.push(e)}),i},checkChangeNode:function(e,t,i){},handleCheckAllChange:function(e){if(e){for(var t=0;t<this.cities.length;t++){for(var i=!1,s=0;s<this.checkedCitie.length;s++)this.checkedCitie[s].orgID===this.cities[t].orgID&&(i=!0);i||this.checkedCitie.push(this.cities[t])}this.isIndeterminate=!0}else{for(t=0;t<this.cities.length;t++){for(i=!1,s=0;s<this.checkedCitie.length;s++)if(this.checkedCitie[s].orgID===this.cities[t].orgID){i=!0;break}i&&this.checkedCitie.splice(s,1)}this.isIndeterminate=!1}},handleCheckedCitiesChange:function(e){this.checkedCitie=e;var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},clickDepartment:function(e){var t=this;this.checkedCitie.splice(0,this.checkedCitie.length),this.checkedCitie.push(e);var i=this.$refs.tree2.getNode(e.orgID);this.mianbao=[],this.getPrarentNode(i),t.organName="";var s=!0,r=!1,n=void 0;try{for(var c,o=a()(t.mianbao);!(s=(c=o.next()).done);s=!0){var l=c.value;t.organName+=l.text+">"}}catch(e){r=!0,n=e}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}t.organName+=""+e.orgName,t.treeNode=e,t.last.lastNode="",t.last.lastId="",t.mianbao.forEach(function(e){t.last.lastNode+=e.text+"-",t.last.lastId=e.petId}),t.last.lastNode=t.last.lastNode.substr(0,t.last.lastNode.length-1)},dblclickCheckedCitie:function(e){this.clickDepartment(e),this.$emit("sureSubmit",{type:"project",item:e,last:this.last})},deleteProject:function(e,t){this.checkedCitie.splice(t,1)},clearProject:function(){this.checkedCitie.splice(0,this.checkedCitie.length),this.checkAll=!1,this.isIndeterminate=!1},getPrarentNode:function(e){void 0!=e.data.orgName&&this.mianbao.unshift({text:""+e.data.orgName,petId:""+e.data.orgID}),void 0!=e.parent&&this.getPrarentNode(e.parent)},getChild:function(e){void 0!==e.childNodes&&0!==e.childNodes.length||(this.last={lastNode:e.data.orgName,lastId:e.data.orgID})}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"originater_dialog project_dialog"},[i("div",{class:[e.closeShow?"pc-candidates":"pc-candidates pc-background"]},[i("div",{staticClass:"dialog_content"},[i("el-main",{staticStyle:{position:"relative"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.closeShow,expression:"!closeShow"}],staticClass:"top"},[e._v("组织选择"),i("span",{staticStyle:{"font-size":"30px",cursor:"pointer",float:"right","padding-right":"5px"},on:{click:e.close}},[e._v("×")])]),e._v(" "),i("el-tabs",{attrs:{type:"card"}},[i("el-tab-pane",{staticClass:"candidates-recently"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont icon-todos"}),e._v(" 组织")]),e._v(" "),i("div",{staticClass:"title  title-border"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[e._v("组织架构")]),e._v(" "),i("el-breadcrumb-item",{attrs:{title:e.tooltipOrganName}},[e._v(e._s(e.bread))])],1),e._v(" "),i("span",{staticClass:"rightInput"},[i("el-input",{attrs:{placeholder:"请输入部门关键字","prefix-icon":"el-icon-search",size:"mini"},model:{value:e.treeSearch,callback:function(t){e.treeSearch=t},expression:"treeSearch"}})],1)],1),e._v(" "),i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"content-left"},[i("el-tree",{ref:"tree2",attrs:{data:e.organizationData,"node-key":"orgID","highlight-current":!0,props:e.defaultProps,"default-expanded-keys":e.defaultKeys,"default-checked-keys":e.defaultKeys,load:e.handleNodeload,lazy:""},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),i("div",{staticClass:"content-right"},[e.oneCheck?e._e():i("el-checkbox",{staticStyle:{"padding-top":"6px"},attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n                ")]),e._v(" "),e.oneCheck?i("el-checkbox-group",{staticClass:"theRadio",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCitie,callback:function(t){e.checkedCitie=t},expression:"checkedCitie"}},e._l(e.cities,function(t){return i("el-checkbox-button",{key:t.orgID,attrs:{label:t}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body",on:{click:function(i){e.clickDepartment(t)},dblclick:function(i){e.dblclickCheckedCitie(t)}}},[i("h4",{staticClass:"media-heading iconfont icon-company"},[e._v(e._s(t.orgName))])])])])})):i("el-checkbox-group",{staticClass:"mut-check",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCitie,callback:function(t){e.checkedCitie=t},expression:"checkedCitie"}},e._l(e.cities,function(t,s){return i("el-checkbox",{key:s,attrs:{label:t,checked:t.checked}},[i("div",{staticClass:"media"},[i("div",{staticClass:"media-body mut-media-body"},[i("h4",{staticClass:"media-heading iconfont icon-company"},[e._v(e._s(t.orgName))])])])])}))],1)]),e._v(" "),i("div",{staticClass:"addrecently",class:{pullup:e.isActive}},[i("div",{staticClass:"media"},[i("div",{staticClass:"pull",on:{click:e.pullBtnHeightChange}}),e._v(" "),i("ul",{staticClass:"clearfix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.checkedCitie.length>0,expression:"checkedCitie.length>0"}],staticClass:"clearBtn",on:{click:e.clearProject}}),e._v(" "),e._l(e.checkedCitie,function(t,s){return i("li",{key:t.orgID},[i("div",{staticClass:"media-body"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(i){e.deleteProject(t,s)}}}),e._v(" "),i("span",{staticClass:"media-heading"},[e._v(e._s(t.orgName))])])])})],2)])]),e._v(" "),i("div",{staticClass:"addrecently-footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline",size:"mini"},on:{click:e.sureSubmit}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",size:"mini"},on:{click:e.close}},[e._v("取消")])],1)])],1)],1)],1)])])},staticRenderFns:[]};var c=i(47)(r,n,!1,function(e){i(715)},"data-v-7a420611",null);t.a=c.exports},715:function(e,t){},717:function(e,t,i){"use strict";var s=i(160),a=i.n(s),r={name:"processDialog",props:{closeShow:!1},data:function(){return{dialog:!0,orgID:"",isFirstSelcet:"",isSecondSelcet:"",isThirdSelcet:"",isFouthSelcet:"",isFifthSelect:"",isFifthSelcet:"",isSixSelcet:"",selectFouthData:"",checked:!1,processValue:"",defaultProps:{children:"m_ChildOrg",label:"orgName"},firstData:[],secondData:[],thirdData:[],fouthData:[],selectedData:{},isK2ProcessDisabled:!0,loading:!1}},mounted:function(){this.getDataList()},methods:{getDataList:function(){var e=this;this.$axios.post("/api/companytree/page",{}).then(function(t){200===t.status?(e.firstData=t.data.companyTreeList,e.secondData=e.firstData[0].m_ChildOrg):e.$message.error("请求失败！")}).catch(function(t){e.$message.error("连接服务器失败！"+t)})},checkSecond:function(e,t){this.isK2ProcessDisabled=!1,this.isSecondSelcet=e.orgName,this.thirdData=[],this.fouthData=[],this.isThirdSelcet="",this.isFouthSelcet="",this.isFifthSelect="",this.orgID=e.orgID;var i={orgId:e.orgID,isUse:1,name:"",isHide:this.checked?0:1,isDailog:1};this.getUrlList(i)},getUrlList:function(e){var t=this;this.thirdData=[],this.fouthData=[],this.isFifthSelcet="",this.isSixSelcet="";this.$axios.post("/api/processCategoryTree",e).then(function(e){200===e.status?(t.thirdData=t.toTree(t.processingData(e.data.result)),null==t.thirdData&&t.$message.success("数据为空"),t.checkThird(t.thirdData[0],0)):t.$message.error("请求失败！")}).catch(function(e){})},toTree:function(e){if(null==e||0==e.length)return[];e.forEach(function(e){delete e.Child});var t={};e.forEach(function(e){t[e.id]=e});var i=[];return e.forEach(function(e){var s=t[e.pid];s?(s.Child||(s.Child=[])).push(e):i.push(e)}),i},checkThird:function(e){this.isThirdSelcet=e.id,this.fouthData&&(this.fouthData=[],this.isFouthSelcet="",this.isFifthSelect=""),e.Child?this.fouthData=e.Child:this.selectedData=e},processingData:function(e){var t=e;for(var i in t){var s=t[i];if(t[i].processDescriptions=[{txt:"无提示信息!"}],s.processDescription&&null!=s.processDescription){var r;r=s.processDescription.split(";");var n=[],c=!0,o=!1,l=void 0;try{for(var h,d=a()(r);!(c=(h=d.next()).done);c=!0){var u=h.value;u=u.replace("&gt",">"),n.push({txt:u})}}catch(e){o=!0,l=e}finally{try{!c&&d.return&&d.return()}finally{if(o)throw l}}t[i].processDescriptions=n}}return t},checkFouth:function(e){e.childsProcessCategories||(this.selectedData=e)},checkFifth:function(e){e.childsProcessCategories||(this.isSixSelcet="",this.isFifthSelcet=e.id,this.selectedData=e)},checkSixth:function(e){this.isFifthSelcet="",this.isSixSelcet=e.id,e.childsProcessCategories||(this.selectedData=e)},sureSubmitData:function(){var e=this.selectedData.name,t=this.selectedData.id+"";e&&this.$emit("sureSubmit",{type:"process",text:e,processID:t,item:this.selectedData})},checkIsK2Process:function(){var e={orgId:this.orgID,isUse:1,isHide:this.checked?0:1,name:this.processValue,isDailog:1};this.getUrlList(e)},searchFlow:function(){var e={orgId:this.orgID,isUse:1,isHide:this.checked?0:1,name:this.processValue,isDailog:1};this.getUrlList(e)},searchScreenData:function(e,t){var i=[],s=[];if(t.forEach(function(t,i,a){-1!==t.name.indexOf(e)&&s.push(t)}),s==[])return null;var r=!0,n=!1,c=void 0;try{for(var o,l=a()(s);!(r=(o=l.next()).done);r=!0){var h=o.value;this.selectPrantData(h,t,i)}}catch(e){n=!0,c=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw c}}return i},selectPrantData:function(e,t,i){var s=!0,r=!1,n=void 0;try{for(var c,o=a()(t);!(s=(c=o.next()).done);s=!0){var l=c.value;if(l.id==e.pid){void 0==l.Child&&(l.Child=[]),l.Child.push(e);var h=!0,d=!0,u=!1,p=void 0;try{for(var g,m=a()(i);!(d=(g=m.next()).done);d=!0){var f=g.value;h=l.id!=f.id}}catch(e){u=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw p}}h&&i.push(l),this.selectPrantData(l,t,i)}}}catch(e){r=!0,n=e}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}},close:function(){this.$emit("hideComponent")}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"originater_dialog"},[i("div",{class:[e.closeShow?"pc-candidates":"pc-candidates pc-background"]},[i("div",{staticClass:"dialog_content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.closeShow,expression:"!closeShow"}],staticClass:"top"},[e._v("流程选择\n          "),i("span",{staticStyle:{"font-size":"30px",cursor:"pointer",float:"right","padding-right":"5px"},on:{click:e.close}},[e._v("×")])]),e._v(" "),i("div",{staticClass:"initProcess"},[i("el-container",[i("el-header",[i("div",{staticClass:"initProcess-header"},[i("el-checkbox",{staticClass:"initCheckbox",attrs:{disabled:e.isK2ProcessDisabled},on:{change:e.checkIsK2Process},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("显示允许直接从K2发起的流程")]),e._v(" "),i("div",{staticClass:"searchCom"},[i("el-input",{staticClass:"inputCom",attrs:{disabled:e.isK2ProcessDisabled,clearable:"",placeholder:"流程搜索",size:"mini"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchFlow(t):null}},model:{value:e.processValue,callback:function(t){e.processValue=t},expression:"processValue"}}),e._v(" "),i("el-button",{staticClass:"searchBtn",attrs:{disabled:e.isK2ProcessDisabled,type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchFlow}},[e._v("搜索")])],1)],1)]),e._v(" "),i("el-main",[i("div",{staticStyle:{"overflow-x":"hidden"}},[i("div",{staticClass:"originater-contain"},[i("ul",{staticClass:"secondList"},e._l(e.secondData,function(t){return i("li",{key:t.orgName,class:{isActive:e.isSecondSelcet===t.orgName},on:{click:function(i){e.checkSecond(t)}}},[i("i",{staticClass:"el-icon-tickets"}),e._v("\n                      "+e._s(t.orgName)+"\n                      ")])})),e._v(" "),i("ul",{staticClass:"thirdList"},e._l(e.thirdData,function(t){return i("li",{key:t.id,class:{isActive:e.isThirdSelcet===t.id},on:{click:function(i){i.stopPropagation(),e.checkThird(t)}}},[e._v(e._s(t.name))])})),e._v(" "),i("ul",{staticClass:"fouthList"},e._l(e.fouthData,function(t){return i("li",{key:t.id,staticClass:"fouthList-title",on:{click:function(i){i.stopPropagation(),e.checkFouth(t)}}},[null==t.processFullName?i("div",[i("span",{staticClass:"fouthList-title-first"},[e._v(e._s(t.name)+">")]),e._v(" "),i("div",{staticClass:"line"})]):i("div",[i("ul",{staticClass:"fifthList-contain"},[i("li",{staticClass:"fifthList",class:{isActive:e.isSixSelcet===t.id},on:{click:function(i){i.stopPropagation(),e.checkSixth(t)}}},[i("span",{attrs:{title:t.name}},[0==t.disabled?i("a",{attrs:{target:"_blank",href:e.linkhref}},[e._v(e._s(t.name))]):i("a",[e._v(e._s(t.name))])])])])]),e._v(" "),i("ul",e._l(t.Child,function(t){return i("li",{key:t.id,staticClass:"fouthListCon",class:[{fouthChild:t.Child},{isActive:e.isFifthSelcet===t.id}],on:{click:function(i){i.stopPropagation(),e.checkFifth(t)}}},[i("span",{attrs:{title:t.name}},[0==t.disabled?i("a",{attrs:{target:"_blank",href:e.linkhref}},[e._v(e._s(t.name))]):i("a",[e._v(e._s(t.name))])]),e._v(" "),i("ul",{staticClass:"fifthList-contain"},e._l(t.Child,function(t){return i("li",{key:t.id,staticClass:"fifthList",class:{isActive:e.isSixSelcet===t.id},on:{click:function(i){i.stopPropagation(),e.checkSixth(t)}}},[i("span",{attrs:{title:t.name}},[0==t.disabled?i("a",{attrs:{target:"_blank",href:e.linkhref}},[e._v(e._s(t.name))]):i("a",[e._v(e._s(t.name))])])])}))])}))])}))]),e._v(" "),i("div",{staticClass:"addrecently-footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline",size:"mini"},on:{click:e.sureSubmitData}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",size:"mini"},on:{click:e.close}},[e._v("取消")])],1)])])],1)],1)])])])},staticRenderFns:[]};var c=i(47)(r,n,!1,function(e){i(718)},"data-v-8b2a6974",null);t.a=c.exports},718:function(e,t){},750:function(e,t){},790:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(160),a=i.n(s),r=i(690),n=i(688),c=i(67),o=(i(361),i(714),i(717),i(1)),l=i.n(o),h=i(359),d=i(685),u=l()().day(0).format("YYYY-MM-DD"),p=l()().day(6).format("YYYY-MM-DD"),g=l()().startOf("month").format("YYYY-MM-DD"),m=l()().endOf("month").format("YYYY-MM-DD"),f=l()().startOf("quarter").format("YYYY-MM-DD"),v=l()().endOf("quarter").format("YYYY-MM-DD"),C=l()().startOf("year").format("YYYY-MM-DD"),y=l()().endOf("year").format("YYYY-MM-DD"),k={name:"",components:{page:d.a,processClassification:r.a,processSelection:n.a},mounted:function(){},data:function(){return{fullHeight:document.documentElement.clientHeight,organSelectRadio:"",isShow:!0,isShowReportCondition:!0,arrt:"收起",arrtReportCondition:"收起",icon:"el-icon-arrow-down",selectValue:1,tableData:[],startDate:"",finishDate:"",childDataUrl:{url:""},comp:{},showdialog:!1,pageSizesList:[10,20,50,100],model:{selectForm:{processIDs:"",processFullName:""},Date:[]},componentParam:{componentType:{type:String,required:!0},backfillData:{type:Array,required:!0},oneCheck:{type:Boolean,required:!0},closeShow:{type:Boolean,required:!0}},processName:"",processIDs:"",projectList:[],processList:[],OrgId:"",type:1,pageIndex:1,pageSize:10,total:0,orderBy:"",exportData:[],processCategoryName:"",processCategoryIDs:"",processCategoryList:[],imgLoading:!1}},methods:{change:function(){switch(this.selectValue){case 1:this.startDate=u,this.endDate=p;break;case 2:this.startDate=g,this.endDate=m;break;case 3:this.startDate=f,this.endDate=v;break;case 4:this.startDate=C,this.endDate=y;break;case 5:this.startDate=this.model.Date[0]?this.model.Date[0]+" 00:00:00":"",this.endDate=this.model.Date[1]?this.model.Date[1]+" 23:59:59":""}},showToggle:function(){this.isShow=!this.isShow,this.isShow?(this.arrt="收起",this.icon="el-icon-arrow-up"):(this.arrt="展开",this.icon="el-icon-arrow-down")},openDailog:function(e){this.componentParam.closeShow=!1,this.componentParam.componentType=e,this.componentParam.oneCheck=!1,"processClassification"==e?this.componentParam.backfillData=this.processCategoryList:"processSelection"==e&&(this.componentParam.backfillData=this.processList),this.showdialog=!0,c.a.showDailog_mask()},showMsgfromchild:function(e){if(e.type&&"processClassification"==e.type){this.processCategoryList=e.list;var t=[],i=[],s=!0,r=!1,n=void 0;try{for(var c,o=a()(e.list);!(s=(c=o.next()).done);s=!0){var l=c.value;i.push(l.name),t.push(l.id+"")}}catch(e){r=!0,n=e}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}this.processCategoryIDs=t.join(","),this.processCategoryName=i.join("；")}else if(e.type&&"processSelection"==e.type){this.processList=e.list;var h=[],d=[],u=!0,p=!1,g=void 0;try{for(var m,f=a()(e.list);!(u=(m=f.next()).done);u=!0){var v=m.value;d.push(v.name),h.push(v.processId+"")}}catch(e){p=!0,g=e}finally{try{!u&&f.return&&f.return()}finally{if(p)throw g}}this.processIDs=h.join(","),this.processName=d.join("；")}this.hideComponent()},getProcessID:function(e,t){var i=!0,s=!1,r=void 0;try{for(var n,c=a()(e);!(i=(n=c.next()).done);i=!0){var o=n.value;if(!o.Child)return void(o.processId&&"0"!==o.processId&&null!==o.processId?t.processId.push(o.processId+""):t.processCategoryIDs.push(o.id+""));this.getProcessID(o.Child,t),t.processName.push(o.name.trim())}}catch(e){s=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw r}}},handleSizeChange:function(e){var t=""+e;this.pageIndex=1,this.pageSize=parseInt(t),this.getList()},handleCurrentChange:function(e){this.pageIndex=e,this.getList()},hideComponent:function(){this.showdialog=!1,c.a.hiddenDailog_mask()},sortChange:function(e){this.orderBy=("statusName"==e.prop?"status":e.prop)+" "+e.order.replace("ending",""),this.getList()},renderIcon:function(e,t){t.column;return e("i",{class:"iconfont icon-process"})},getList:function(){var e=this;if(0!==this.processIDs.length||0!==this.processCategoryIDs.length){this.imgLoading=!0;var t=this;t.change(),null==t.model.Date&&(t.model.Date=[]);var i={startDate:t.startDate,endDate:t.endDate,processIDs:this.processIDs,processCategoryIDs:this.processCategoryIDs,selectValue:t.selectValue,pageIndex:t.pageIndex-1,pageSize:t.pageSize,orderBy:this.orderBy};if(5==t.selectValue&&""==t.startDate&&""==t.endDate)return t.$message.warning("请选择日期"),void(this.imgLoading=!1);t.$axios.post("/api/reportForm/getHighestDynamicFlowBack",i).then(function(i){t.tableData=i.data.processList,t.model.selectForm.total=i.data.listCounts;for(var s=0;s<i.data.processList.length;s++)i.data.processList[s].returnRate=i.data.processList[s].returnRate+"%";e.imgLoading=!1}).catch(function(){e.imgLoading=!1,t.$message.error("查询失败")})}else this.$message.warning("请选择流程分类或流程选择进行查询！")},exportList:function(){var e=this;this.change(),h.a.startLoading({lock:!0,text:"数据量过大，正在拼命加载中...",background:"rgba(255, 255, 255, 0.9)",target:document.querySelector(".loadingtext")});var t={tableName:"动态-流程-退回率最高的流程",params:{startDate:this.startDate,endDate:this.endDate,processIDs:this.model.selectForm.processIDs,processCategoryIDs:this.processCategoryIDs,selectValue:this.selectValue,pageIndex:0,pageSize:1e3,orderBy:this.orderBy}};null==this.model.Date&&(this.model.Date=[]),this.model.selectForm.startDate=this.model.Date[0]?this.model.Date[0]+" 00:00:00":"",this.model.selectForm.endDate=this.model.Date[1]?this.model.Date[1]+" 23:59:59":"",this.$axios.post("/api/exportExcelForTable",t,{responseType:"blob"}).then(function(e){for(var t=e.data,i=0;i<e.data.length;i++)e.data.processList[i].returnRate=e.data.processList[i].returnRate+"%";c.a.exportSearchList("动态-流程-退回率最高的流程TOP10",t),h.a.endLoading()}).catch(function(t){h.a.endLoading(),e.$message.error("导出Excel失败!ERROR MESSAGE:"+t)})},search:function(){this.getList()},refresh:function(){var e=this;this.componentParam.backfillData=new Array,this.processList=new Array,this.processCategoryList=new Array,this.$nextTick(function(){e.processName="",e.processIDs="",e.selectValue=1,e.model.Date="",e.startDate=u,e.endDate=p,e.processCategoryName="",e.processCategoryIDs=""})}},watch:{fullHeight:function(){return document.documentElement.clientHeight}},computed:{}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"staticReports "},[i("el-container",[i("el-header",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],staticClass:"staticReports loadingtext minWidth",attrs:{"element-loading-text":"加载中...","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("div",{staticClass:"taticReports-content"},[i("el-row",{staticClass:"staticReports-header",attrs:{type:"flex",justify:"space-between"}},[i("el-col",{staticClass:"titleMT",attrs:{span:17}},[i("span",{staticClass:"mz",on:{click:function(t){e.$router.back(-1)}}},[e._v("流程报表")]),i("i",{class:e.icon})]),e._v(" "),i("el-col",{staticClass:"titleBtn clearfix",attrs:{span:6}},[i("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.refresh}},[e._v("重置")]),e._v(" "),i("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),i("br"),e._v(" "),i("div",{staticClass:"statement reportCondition"},[i("span",{staticClass:"fz16"},[e._v("动态-流程-流程退回率统计")]),e._v(" "),i("el-row",{staticClass:"staticReports-middle lh35 staticReportsMiddle"},[i("el-col",{staticClass:"classSelect",attrs:{span:2,sm:4,md:1}},[i("span",[e._v("流程分类选择")])]),e._v(" "),i("el-col",{staticClass:"classSelectMR process-inputbox",attrs:{span:7}},[i("i",{staticClass:"iconfont icon-organization",on:{click:function(t){e.openDailog("processClassification")}}}),e._v(" "),i("span",{on:{dblclick:function(t){e.openDailog("processClassification")}}},[i("el-input",{attrs:{placeholder:"",disabled:!0,title:e.processCategoryName},model:{value:e.processCategoryName,callback:function(t){e.processCategoryName=t},expression:"processCategoryName"}})],1)]),e._v(" "),i("el-col",{attrs:{span:1}},[i("span",[e._v(" ")])]),e._v(" "),i("el-col",{staticClass:"processSelect",attrs:{span:2,sm:4,md:1}},[i("span",[e._v("流程选择")])]),e._v(" "),i("el-col",{staticClass:"process-inputbox",attrs:{span:6}},[i("i",{staticClass:"iconfont icon-organization",on:{click:function(t){e.openDailog("processSelection")}}}),e._v(" "),i("span",{on:{dblclick:function(t){e.openDailog("processSelection")}}},[i("el-input",{attrs:{placeholder:"",disabled:!0,title:e.processName},model:{value:e.processName,callback:function(t){e.processName=t},expression:"processName"}})],1)])],1),e._v(" "),i("el-row",{staticClass:"reportCondition-date reportConditionDate"},[i("el-col",{staticClass:"timeDuan",attrs:{span:2,sm:4,md:1}},[i("span",[e._v("时间段")])]),e._v(" "),i("el-col",{staticClass:"timeSelect",attrs:{span:8,sm:8}},[i("el-radio-group",{on:{change:e.change},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},[i("el-radio",{attrs:{label:1}},[e._v("本周")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("本月")]),e._v(" "),i("el-radio",{attrs:{label:3}},[e._v("本季度")]),e._v(" "),i("el-radio",{attrs:{label:4}},[e._v("本年")]),e._v(" "),i("el-radio",{attrs:{label:5}},[e._v("其他")])],1)],1),e._v(" "),i("el-col",{staticClass:"space",attrs:{span:2,sm:4,md:1}},[i("span",[e._v(" ")])]),e._v(" "),5===e.selectValue?i("el-col",{attrs:{span:7,sm:6}},[i("div",{staticClass:"border"},[i("el-date-picker",{staticClass:"timeWidth",attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.model.Date,callback:function(t){e.$set(e.model,"Date",t)},expression:"model.Date"}})],1)]):e._e()],1),e._v(" "),i("el-row",[i("el-col",{staticClass:"buttonWrap buttonWrapTA",attrs:{span:4}},[i("el-button",{attrs:{round:"",type:"primary",size:"mini"},on:{click:e.exportList}},[i("i",{staticClass:"iconfont icon-export"}),e._v("导出")])],1)],1)],1),e._v(" "),i("div",{staticClass:"statement "},[i("el-table",{ref:"singleTable",staticClass:"tableWidth",attrs:{data:e.tableData,height:e.isShow?e.fullHeight-320:e.fullHeight-215,"highlight-current-row":"",border:""},on:{"sort-change":e.sortChange}},[i("el-table-column",{attrs:{prop:"processID",width:"200",sortable:"custom",label:"ID"}}),e._v(" "),i("el-table-column",{attrs:{prop:"processName",sortable:"custom",align:"left",label:"流程名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"processFullName",sortable:"custom",align:"left",label:"流程路径"}}),e._v(" "),i("el-table-column",{attrs:{prop:"processTotalCnt",sortable:"custom",label:"处理实例数"}}),e._v(" "),i("el-table-column",{attrs:{prop:"returnCnt",sortable:"custom",label:"退回实例数"}}),e._v(" "),i("el-table-column",{attrs:{prop:"returnRate",sortable:"custom",label:"退回率",width:"200"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgLoading,expression:"!imgLoading"}],attrs:{slot:"empty"},slot:"empty"},[i("p",{style:{marginTop:"23px"}},[e._v("暂无数据")])]),e._v(" "),i("div",{attrs:{slot:"append"},slot:"append"},[i("page",{attrs:{pageIndex:e.pageIndex,total:e.model.selectForm.total,pageSize:e.pageSize,pageSizesList:e.pageSizesList},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1)],1)],1)],1)]),e._v(" "),e.showdialog?i(e.componentParam.componentType,{tag:"component",attrs:{componentParam:e.componentParam},on:{hideComponent:e.hideComponent,sureSubmit:e.showMsgfromchild}}):e._e()],1)],1)],1)},staticRenderFns:[]};var D=i(47)(k,b,!1,function(e){i(750)},"data-v-10a3159c",null);t.default=D.exports}});